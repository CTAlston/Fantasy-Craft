<html lang="en" >
    <head>
        <meta charset="utf-8">
        <title>NPC Dashboard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script>
            const _$ = {
                get: (id) => document.getElementById(id), // Get the element by id and return it
                val: (id) => _$.get(id).value, // Gets the element by id and returns its value
                html: (id) => _$.get(id).innerHTML, // Gets the element by id and returns its innerHTML
                num: (id) => Number(_$.val(id)), // Gets the value and converts to a Number
                checked: (id) => _$.get(id).checked === true, // Returns true if the element is checked
                selected: (id) => _$.get(id).selected, // Returns true if the element is selected
                set: (id, value) => _$.get(id).innerHTML = value, // Sets the innerHTML of the given id
                setVal: (id, value) => _$.get(id).value = value, // Sets the value of the item with id
            }

            var NPC_special = 0;
            var caIndex = 0;
            var eaIndex = 0;
            var naIndex = 0;
            var spellIndex = 0;
            var featIndex = 0;
            var nsIndex = 0;
            var immobility = 0;

            var strMod = 0;
            var dexMod = 0;
            var conMod = 0;
            var intMod = 0;
            var wisMod = 0;
            var chaMod = 0;

            var sizeMod = 0;

            // Grade increases Y, and Threat Level increases X
            const NPC_Traits_Tables = [
                // Initiative and Defense
                [
                    [0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4, 5, 5, 5, 6, 6, 6],
                    [0, 1, 2, 2, 3, 3, 4, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 8, 9, 9],
                    [1, 1, 2, 2, 3, 4, 4, 5, 5, 6, 7, 7, 8, 8, 9, 10, 10, 11, 11, 12],
                    [1, 2, 3, 3, 4, 5, 6, 6, 7, 8, 9, 9, 10, 11, 12, 12, 13, 14, 15, 15],
                    [2, 3, 4, 5, 5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 15, 16, 17, 18],
                    [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21],
                    [3, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 15, 16, 17, 18, 19, 20, 22, 23, 24],
                    [3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 16, 17, 18, 19, 21, 22, 23, 24, 26, 27],
                    [4, 5, 6, 8, 9, 10, 12, 13, 15, 16, 18, 19, 20, 22, 23, 25, 26, 28, 29, 30],
                    [4, 6, 7, 9, 10, 12, 13, 15, 16, 18, 19, 21, 22, 24, 25, 27, 28, 30, 31, 33]
                ],
                // Attack
                [
                    [0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10],
                    [0, 1, 1, 2, 3, 3, 4, 5, 5, 6, 7, 7, 8, 9, 9, 10, 11, 11, 12, 12],
                    [0, 1, 2, 3, 3, 4, 5, 6, 6, 7, 8, 9, 9, 10, 11, 12, 12, 13, 14, 15],
                    [1, 2, 3, 4, 5, 5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 15, 16, 17],
                    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20],
                    [1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 22],
                    [2, 3, 4, 5, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 19, 20, 21, 22, 23, 25],
                    [2, 3, 5, 6, 7, 9, 10, 11, 13, 14, 15, 17, 18, 19, 21, 22, 23, 25, 27, 27],
                    [2, 3, 5, 6, 8, 9, 11, 12, 14, 16, 17, 18, 20, 21, 23, 24, 26, 27, 29, 30],
                    [3, 5, 6, 8, 9, 11, 12, 14, 15, 17, 18, 20, 21, 23, 24, 26, 27, 29, 30, 32]
                ],
                // Resilience, Competence, and Health
                [
                    [0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4, 5, 5, 5, 6, 6, 6],
                    [0, 1, 1, 2, 2, 2, 3, 3, 4, 4, 4, 5, 5, 5, 6, 6, 7, 7, 7, 8],
                    [1, 2, 2, 2, 3, 3, 4, 4, 4, 5, 5, 6, 6, 6, 7, 7,8, 8, 8, 9],
                    [1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11],
                    [2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12],
                    [2, 3, 3, 4, 5, 5, 6, 6, 7, 7, 8, 9, 9, 10, 10, 11, 11, 12, 13, 14],
                    [3, 4, 4, 5, 6, 7, 7, 8, 8, 9, 10, 10, 11, 11, 12, 13, 13, 14, 14, 15],
                    [3, 4, 4, 5, 6, 7, 7, 8, 9, 10, 10, 11, 12, 13, 13, 14, 15, 16, 16, 17],
                    [4, 5, 6, 6, 7, 8, 9, 9, 10, 11, 12, 12, 13, 14, 15, 15, 16, 17, 18, 18],
                    [4, 5, 6, 7, 8, 8, 9, 10, 11, 12, 12, 13, 14, 15, 16, 16, 17, 18, 19, 20]
                ],
                // Signature Skills
                [
                    [2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12],
                    [3, 3, 4, 5, 5, 6, 7, 7, 8, 9, 9, 10, 11, 11, 12, 13, 13, 14, 15, 15],
                    [4, 5, 6, 6, 7, 8, 9, 9, 10, 11, 12, 12, 13, 14, 15, 15, 16, 17, 18, 18],
                    [5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 15, 16, 17, 18, 19, 20, 20, 21],
                    [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
                    [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27],
                    [8, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, 22, 23, 24, 25, 26, 28, 29, 30],
                    [9, 11, 12, 13, 14, 16, 17, 18, 19, 21, 22, 23, 24, 26, 27, 28, 29, 31, 32, 33],
                    [10, 12, 13, 14, 16, 17, 18, 20, 21, 22, 24, 25, 26, 28, 29, 30, 32, 33, 34, 36],
                    [11, 12,14, 15, 17, 18, 20, 21, 23, 24, 26, 27, 29, 30, 32, 33, 35, 36, 38, 39]
                ]
            ];

            function lookupTrait(x, y, z) {
                return NPC_Traits_Tables[x][y][z];
            }

            function translateNPCTraitsTables() {
                _$.set("p_init", lookupTrait(0, _$.val("npc_init") - 1, _$.val("p_threat_level") - 1));
                _$.set("p_atk", lookupTrait(1, _$.val("npc_atk") - 1, _$.val("p_threat_level") - 1));
                _$.set("p_def", lookupTrait(0, _$.val("npc_def") - 1, _$.val("p_threat_level") - 1));
                _$.set("p_fort", lookupTrait(2, _$.val("npc_res") - 1, _$.val("p_threat_level") - 1));
                _$.set("p_ref", lookupTrait(2, _$.val("npc_res") - 1, _$.val("p_threat_level") - 1));
                _$.set("p_wil", lookupTrait(2, _$.val("npc_res") - 1, _$.val("p_threat_level") - 1));

                _$.set("p_wil", lookupTrait(2, _$.val("npc_res") - 1, _$.val("p_threat_level") - 1));
                _$.set("p_comp", lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1));
            }

            function applyMods() {
                //Update traits
                _$.set("p_init", (Number(_$.get("p_init").innerHTML) + dexMod));
                _$.set("p_atk", (Number(_$.get("p_atk").innerHTML) + strMod));
                //_$.set("p_def", (Number(_$.get("p_def").innerHTML) + dexMod));
                _$.set("p_fort", (Number(_$.get("p_fort").innerHTML) + conMod));
                _$.set("p_ref", (Number(_$.get("p_ref").innerHTML) + dexMod));
                _$.set("p_wil", (Number(_$.get("p_wil").innerHTML) + wisMod));

                //Update health
                _$.set("p_dam_save_mod", (Number(_$.get("p_dam_save_mod").innerHTML) + conMod + sizeMod));

                //Update skills mod
                _$.set("p_skill_acrobatics_mods", dexMod);
                _$.set("p_skill_athletics_mods", strMod);
                _$.set("p_skill_blend_mods", chaMod);
                _$.set("p_skill_bluff_mods", chaMod);
                _$.set("p_skill_crafting_mods", intMod);
                _$.set("p_skill_disguise_mods", dexMod);
                _$.set("p_skill_haggle_mods", wisMod);
                _$.set("p_skill_impress_mods", chaMod);
                _$.set("p_skill_intimidate_mods", wisMod);
                _$.set("p_skill_investigate_mods", wisMod);
                _$.set("p_skill_medicine_mods", intMod);
                _$.set("p_skill_notice_mods", wisMod);
                _$.set("p_skill_prestidigitation_mods", dexMod);
                _$.set("p_skill_resolve_mods", conMod);
                _$.set("p_skill_ride_mods", dexMod);
                _$.set("p_skill_search_mods", intMod);
                _$.set("p_skill_senseMotive_mods", wisMod);
                _$.set("p_skill_sneak_mods", dexMod);
                _$.set("p_skill_survival_mods", wisMod);
                _$.set("p_skill_tactics_mods", intMod);
            }

            function calcSkillTotals() {
                _$.set("p_skill_acrobatics_total", (Number(_$.html("p_skill_acrobatics_ranks")) + Number(_$.html("p_skill_acrobatics_mods")) + Number(_$.html("p_skill_acrobatics_misc"))));
                _$.set("p_skill_athletics_total", (Number(_$.html("p_skill_athletics_ranks")) + Number(_$.html("p_skill_athletics_mods")) + Number(_$.html("p_skill_athletics_misc"))));
                _$.set("p_skill_blend_total", (Number(_$.html("p_skill_blend_ranks")) + Number(_$.html("p_skill_blend_mods")) + Number(_$.html("p_skill_blend_misc"))));
                _$.set("p_skill_bluff_total", (Number(_$.html("p_skill_bluff_ranks")) + Number(_$.html("p_skill_bluff_mods")) + Number(_$.html("p_skill_bluff_misc"))));
                _$.set("p_skill_crafting_total", (Number(_$.html("p_skill_crafting_ranks")) + Number(_$.html("p_skill_crafting_mods")) + Number(_$.html("p_skill_crafting_misc"))));
                _$.set("p_skill_disguise_total", (Number(_$.html("p_skill_disguise_ranks")) + Number(_$.html("p_skill_disguise_mods")) + Number(_$.html("p_skill_disguise_misc"))));
                _$.set("p_skill_haggle_total", (Number(_$.html("p_skill_haggle_ranks")) + Number(_$.html("p_skill_haggle_mods")) + Number(_$.html("p_skill_haggle_misc"))));
                _$.set("p_skill_impress_total", (Number(_$.html("p_skill_impress_ranks")) + Number(_$.html("p_skill_impress_mods")) + Number(_$.html("p_skill_impress_misc"))));
                _$.set("p_skill_intimidate_total", (Number(_$.html("p_skill_intimidate_ranks")) + Number(_$.html("p_skill_intimidate_mods")) + Number(_$.html("p_skill_intimidate_misc"))));
                _$.set("p_skill_investigate_total", (Number(_$.html("p_skill_investigate_ranks")) + Number(_$.html("p_skill_investigate_mods")) + Number(_$.html("p_skill_investigate_misc"))));
                _$.set("p_skill_medicine_total", (Number(_$.html("p_skill_medicine_ranks")) + Number(_$.html("p_skill_medicine_mods")) + Number(_$.html("p_skill_medicine_misc"))));
                _$.set("p_skill_notice_total", (Number(_$.html("p_skill_notice_ranks")) + Number(_$.html("p_skill_notice_mods")) + Number(_$.html("p_skill_notice_misc"))));
                _$.set("p_skill_prestidigitation_total", (Number(_$.html("p_skill_prestidigitation_ranks")) + Number(_$.html("p_skill_prestidigitation_mods")) + Number(_$.html("p_skill_prestidigitation_misc"))));
                _$.set("p_skill_resolve_total", (Number(_$.html("p_skill_resolve_ranks")) + Number(_$.html("p_skill_resolve_mods")) + Number(_$.html("p_skill_resolve_misc"))));
                _$.set("p_skill_ride_total", (Number(_$.html("p_skill_ride_ranks")) + Number(_$.html("p_skill_ride_mods")) + Number(_$.html("p_skill_ride_misc"))));
                _$.set("p_skill_search_total", (Number(_$.html("p_skill_search_ranks")) + Number(_$.html("p_skill_search_mods")) + Number(_$.html("p_skill_search_misc"))));
                _$.set("p_skill_senseMotive_total", (Number(_$.html("p_skill_senseMotive_ranks")) + Number(_$.html("p_skill_senseMotive_mods")) + Number(_$.html("p_skill_senseMotive_misc"))));
                _$.set("p_skill_sneak_total", (Number(_$.html("p_skill_sneak_ranks")) + Number(_$.html("p_skill_sneak_mods")) + Number(_$.html("p_skill_sneak_misc"))));
                _$.set("p_skill_survival_total", (Number(_$.html("p_skill_survival_ranks")) + Number(_$.html("p_skill_survival_mods")) + Number(_$.html("p_skill_survival_misc"))));
                _$.set("p_skill_tactics_total", (Number(_$.html("p_skill_tactics_ranks")) + Number(_$.html("p_skill_tactics_mods")) + Number(_$.html("p_skill_tactics_misc"))));
            }

            function setStandard() {
                NPC_special = 0;
            }

            function setSpecial() {
                NPC_special = 1;
            }

            function toggleSection(sectionName) { 
                if (_$.get(sectionName).style.display === "none") {
                    _$.get(sectionName).style.display="block";
                }
                else _$.get(sectionName).style.display="none";
            }

            function togglePlay() { 
                if (_$.checked("edit")) {
                    _$.get("editSection").style.display="block";
                    _$.get("playSection").style.display="none";
                }
                else if (_$.checked("play")) {
                    _$.get("playSection").style.display="block";
                    _$.get("editSection").style.display="none";

                    updatePlay();
                }
            }

            function updatePlay() {

                    //Set size
                    _$.set("p_size", _$.val("sizeList"));
                    _$.set("p_sz", _$.val("sizeList"));
                    //Add conditional text to also provide reach and dimensions for sizes large and greater

                    //Assemble type definition
                    var play_type = '|';
                    if (_$.checked("ty_animal")) { play_type += "Animal|";}
                    if (_$.checked("ty_beast")) { play_type += "Beast|";}
                    if (_$.checked("ty_construct")) { play_type += "Construct|";}
                    if (_$.checked("ty_elemental")) { play_type += "Elemental|";}
                    if (_$.checked("ty_fey")) { play_type += "Fey|";}
                    if (_$.checked("ty_folk")) { play_type += "Folk|";}
                    if (_$.checked("ty_horror")) { play_type += "Horror|";}
                    if (_$.checked("ty_ooze")) { play_type += "Ooze|";}
                    if (_$.checked("ty_outsider")) { play_type += "Outsider|";}
                    if (_$.checked("ty_plant")) { play_type += "Plant|";}
                    if (_$.checked("ty_spirit")) { play_type += "Spirit|";}
                    if (_$.checked("ty_undead")) { play_type += "Undead|";}

                    //Set type definition
                    _$.set("p_type", play_type);

                    //Set mobility definition
                    _$.set("p_mobility", _$.val("mobi"));
                    

                    //Set XP value
                    _$.set("p_XPTotal", Number(_$.get("xp_num").innerHTML) * _$.val("p_threat_level"));

                    //Set attributes
                    _$.set("p_str", _$.num("npc_str"));
                    _$.set("p_dex", _$.num("npc_dex"));
                    _$.set("p_con", _$.num("npc_con"));
                    _$.set("p_int", _$.num("npc_int"));
                    _$.set("p_wis", _$.num("npc_wis"));
                    _$.set("p_cha", _$.num("npc_cha"));

                    //Set traits
                    translateNPCTraitsTables();

                    //Set defense
                    calcDefense();

                    //Set health
                    if (NPC_special === 0) {
                        _$.set("p_dam_save_mod", lookupTrait(2, _$.val("npc_res") - 1, _$.val("p_threat_level") - 1));
                        _$.set("p_dam_save_mod", Number(_$.get("p_dam_save_mod").innerHTML) + conMod + (sizeMod * -2));
                    }

                    _$.set("p_vitality", (_$.val("npc_hg") * _$.val("p_threat_level") * 5));

                    if (_$.val("sizeList") === "Nuissance") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") / 8));}
                    if (_$.val("sizeList") === "Fine") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") / 4));}
                    if (_$.val("sizeList") === "Diminuitive") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") / 3));}
                    if (_$.val("sizeList") === "Tiny") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") / 2));}
                    if (_$.val("sizeList") === "Small") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") * 2 / 3));} 
                    if (_$.val("sizeList") === "Medium") {_$.set("p_wounds", _$.val("npc_con"));}
                    if (_$.val("sizeList") === "Large") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") * 1.5));}
                    if (_$.val("sizeList") === "Huge") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") * 2));}
                    if (_$.val("sizeList") === "Gargantuan") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") * 3));}
                    if (_$.val("sizeList") === "Colossal") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") * 4));}
                    if (_$.val("sizeList") === "Enormous") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") * 5));}
                    if (_$.val("sizeList") === "Vast") {_$.set("p_wounds", Math.ceil(_$.val("npc_con") * 6));}
                    
                    //Set skill ranks to competence bonus for all skills that are not signature skills
                    
                    _$.set("p_skill_acrobatics_ranks", (_$.num("npc_ss_acr") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_acr") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_athletics_ranks", (_$.num("npc_ss_ath") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_ath") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_blend_ranks", (_$.num("npc_ss_ble") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_ble") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_bluff_ranks", (_$.num("npc_ss_blu") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_blu") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_crafting_ranks", (_$.num("npc_ss_cra") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_cra") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_disguise_ranks", (_$.num("npc_ss_dis") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_dis") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_haggle_ranks", (_$.num("npc_ss_hag") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_hag") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_impress_ranks", (_$.num("npc_ss_imp") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_imp") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_intimidate_ranks", (_$.num("npc_ss_int") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_int") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_investigate_ranks", (_$.num("npc_ss_inv") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_inv") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_medicine_ranks", (_$.num("npc_ss_med") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_med") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_notice_ranks", (_$.num("npc_ss_not") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_not") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_prestidigitation_ranks", (_$.num("npc_ss_pre") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_pre") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_resolve_ranks", (_$.num("npc_ss_res") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_res") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_ride_ranks", (_$.num("npc_ss_rid") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_rid") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_search_ranks", (_$.num("npc_ss_sea") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_sea") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_senseMotive_ranks", (_$.num("npc_ss_sen") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_sen") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_sneak_ranks", (_$.num("npc_ss_sne") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_sne") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_survival_ranks", (_$.num("npc_ss_sur") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_sur") - 1, _$.val("p_threat_level") - 1));
                    _$.set("p_skill_tactics_ranks", (_$.num("npc_ss_tac") === 0) ? lookupTrait(2, _$.val("npc_comp") - 1, _$.val("p_threat_level") - 1) : lookupTrait(3, _$.num("npc_ss_tac") - 1, _$.val("p_threat_level") - 1));

                    //Apply modifiers
                    applyMods();
                    calcSkillTotals();
                
            }
            
            function calcTypeXP() {
                var typePoints = 0;
                if (_$.checked("ty_animal")) { typePoints += _$.num("ty_animal");}
                if (_$.checked("ty_beast")) { typePoints += _$.num("ty_beast");}
                if (_$.checked("ty_construct")) { typePoints += _$.num("ty_construct");}
                if (_$.checked("ty_elemental")) { typePoints += _$.num("ty_elemental");}
                if (_$.checked("ty_fey")) { typePoints += _$.num("ty_fey");}
                if (_$.checked("ty_folk")) { typePoints += _$.num("ty_folk");}
                if (_$.checked("ty_horror")) { typePoints += _$.num("ty_horror");}
                if (_$.checked("ty_ooze")) { typePoints += _$.num("ty_ooze");}
                if (_$.checked("ty_outsider")) { typePoints += _$.num("ty_outsider");}
                if (_$.checked("ty_plant")) { typePoints += _$.num("ty_plant");}
                if (_$.checked("ty_spirit")) { typePoints += _$.num("ty_spirit");}
                if (_$.checked("ty_undead")) { typePoints += _$.num("ty_undead");}
                _$.set("typeXP", typePoints);
                return typePoints;
            }

            function calcMobilityXP() {
                var mobilityPoints = 0;                
                
                var wSpd = (_$.num("walker_spd")) / 10;
                var bSpd = (_$.num("burrower_spd")) / 10;
                var fSpd = (_$.num("flyer_spd")) / 10;
                var sSpd = (_$.num("swimmer_spd")) / 10;

                if (_$.val("mobi") ==="Walker") {
                    wSpd = (wSpd > 3) ? (wSpd - 3):0;
                }

                if (_$.val("mobi") === "Burrower") {
                    bSpd = (bSpd > 3) ? (bSpd - 3):0;
                }

                if (_$.val("mobi") === "Flyer") {
                    fSpd = (fSpd > 3) ? (fSpd - 3):0;
                }

                if (_$.val("mobi") === "Swimmer") {
                    sSpd = (sSpd > 3) ? (sSpd - 3):0;
                }
                
                if (immobility === 1) {
                    mobilityPoints = -5;
                }
                else if (immobility === 0) {
                    mobilityPoints = wSpd + bSpd + fSpd + sSpd;
                }

                _$.set("mobilityXP", mobilityPoints);

                return mobilityPoints;
            }

            function calcAttributesXP() {
                //Reset points
                var attributesPoints = 0;
                //Get scores
                var nStr = _$.num("npc_str");
                var nDex = _$.num("npc_dex");
                var nCon = _$.num("npc_con");
                var nInt = _$.num("npc_int");
                var nWis = _$.num("npc_wis");
                var nCha = _$.num("npc_cha");

                //Set modifiers

                strMod = Math.floor((nStr - 10) / 2);
                dexMod = Math.floor((nDex - 10) / 2);
                conMod = Math.floor((nCon - 10) / 2);
                intMod = Math.floor((nInt - 10) / 2);
                wisMod = Math.floor((nWis - 10) / 2);
                chaMod = Math.floor((nCha - 10) / 2);

                //If scores are less than 10, XP value for the score is set to 0. Otherwise set points to score - 10.
                nStr = (nStr < 11) ? 0 : (nStr - 10);
                nDex = (nDex < 11) ? 0 : (nDex - 10);
                nCon = (nCon < 11) ? 0 : (nCon - 10);
                nInt = (nInt < 11) ? 0 : (nInt - 10);
                nWis = (nWis < 11) ? 0 : (nWis - 10);
                nCha = (nCha < 11) ? 0 : (nCha - 10);

                //Set AttributesPoints
                attributesPoints = (nStr + nDex + nCon + nInt + nWis + nCha);
                _$.set("attributeXP", attributesPoints);

                //Return sum of scores
                return attributesPoints;
            }

            function calcTraitsXP() {
                var traitsPoints = 5;

                //Get trait scores
                var i = _$.num("npc_init");
                var a = _$.num("npc_atk");
                var d = _$.num("npc_def");
                var r = _$.num("npc_res");
                var c = _$.num("npc_comp");

                //Set traitsPoints
                traitsPoints = Number(i + a + d + r + c);
                _$.set("traitsXP", traitsPoints);

                //Return sum of scores
                return traitsPoints;
            }

            function calcHealthXP() {
                var healthPoints = 1; //default value

                //Get health score
                var h = _$.num("npc_hg");

                //Set healthPoints
                healthPoints = h;
                _$.set("healthXP", healthPoints);

                //Return sum of scores
                return healthPoints;
            }

            function calcSSXP() {
                var ssPoints = 0; //default value

                //Get signature skill scores and add them to ssPoints.
                ssPoints = (_$.num("npc_ss_acr")
                + _$.num("npc_ss_ath")
                + _$.num("npc_ss_ble")
                + _$.num("npc_ss_blu")
                + _$.num("npc_ss_cra")
                + _$.num("npc_ss_dis")
                + _$.num("npc_ss_hag")
                + _$.num("npc_ss_imp")
                + _$.num("npc_ss_int")
                + _$.num("npc_ss_inv")
                + _$.num("npc_ss_med")
                + _$.num("npc_ss_not")
                + _$.num("npc_ss_pre")
                + _$.num("npc_ss_res")
                + _$.num("npc_ss_rid")
                + _$.num("npc_ss_sea")
                + _$.num("npc_ss_sen")
                + _$.num("npc_ss_sne")
                + _$.num("npc_ss_spe")
                + _$.num("npc_ss_sur")
                + _$.num("npc_ss_tac"));

                //Set healthPoints
                _$.set("signatureSkillXP", ssPoints);

                //Return sum of scores
                return ssPoints;
            }

            function calcQualitiesXP() {
                var qualityPoints = 0; //Default value

                //Get quality scores
                if (_$.checked("npc_qual_ah")) { qualityPoints += _$.num("npc_qual_ah");}
                if (_$.checked("npc_qual_ar")) { qualityPoints += _$.num("npc_qual_ar");}
                if (_$.checked("npc_qual_aq") && _$.selected("npc_qual_aq1")) { qualityPoints += _$.num("npc_qual_aq1");}
                if (_$.checked("npc_qual_aq") && _$.selected("npc_qual_aq2")) { qualityPoints += _$.num("npc_qual_aq2");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at1")) { qualityPoints += _$.num("npc_qual_at1");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at2")) { qualityPoints += _$.num("npc_qual_at2");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at3")) { qualityPoints += _$.num("npc_qual_at3");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at4")) { qualityPoints += _$.num("npc_qual_at4");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at5")) { qualityPoints += _$.num("npc_qual_at5");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at6")) { qualityPoints += _$.num("npc_qual_at6");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at7")) { qualityPoints += _$.num("npc_qual_at7");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at8")) { qualityPoints += _$.num("npc_qual_at8");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at9")) { qualityPoints += _$.num("npc_qual_at9");}
                if (_$.checked("npc_qual_at") && _$.selected("npc_qual_at10")) { qualityPoints += _$.num("npc_qual_at10");}
                if (_$.checked("npc_qual_ba")) { qualityPoints += _$.num("npc_qual_ba");}
                if (_$.checked("npc_qual_bat")) { qualityPoints += _$.num("npc_qual_bat");}
                if (_$.checked("npc_qual_be")) { qualityPoints += _$.num("npc_qual_be");}
                if (_$.checked("npc_qual_bl")) { qualityPoints += _$.num("npc_qual_bl");}
                if (_$.checked("npc_qual_br")) { qualityPoints += _$.num("npc_qual_br");}
                if (_$.checked("npc_qual_boa")) { qualityPoints += _$.num("npc_qual_boa");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca1")) { qualityPoints += _$.num("npc_qual_ca1");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca2")) { qualityPoints += _$.num("npc_qual_ca2");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca3")) { qualityPoints += _$.num("npc_qual_ca3");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca4")) { qualityPoints += _$.num("npc_qual_ca4");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca5")) { qualityPoints += _$.num("npc_qual_ca5");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca6")) { qualityPoints += _$.num("npc_qual_ca6");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca7")) { qualityPoints += _$.num("npc_qual_ca7");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca8")) { qualityPoints += _$.num("npc_qual_ca8");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca9")) { qualityPoints += _$.num("npc_qual_ca9");}
                if (_$.checked("npc_qual_ca") && _$.selected("npc_qual_ca10")) { qualityPoints += _$.num("npc_qual_ca10");}
                if (_$.checked("npc_qual_ch1_aq")) { qualityPoints += _$.num("npc_qual_ch1_aq");}
                if (_$.checked("npc_qual_ch1_ar")) { qualityPoints += _$.num("npc_qual_ch1_ar");}
                if (_$.checked("npc_qual_ch1_cm")) { qualityPoints += _$.num("npc_qual_ch1_cm");}
                if (_$.checked("npc_qual_ch1_de")) { qualityPoints += _$.num("npc_qual_ch1_de");}
                if (_$.checked("npc_qual_ch1_fj")) { qualityPoints += _$.num("npc_qual_ch1_fj");}
                if (_$.checked("npc_qual_ch1_is")) { qualityPoints += _$.num("npc_qual_ch1_is");}
                if (_$.checked("npc_qual_ch1_pl")) { qualityPoints += _$.num("npc_qual_ch1_pl");}
                if (_$.checked("npc_qual_ch1_sw")) { qualityPoints += _$.num("npc_qual_ch1_sw");}
                if (_$.checked("npc_qual_ch2_aq")) { qualityPoints += _$.num("npc_qual_ch2_aq");}
                if (_$.checked("npc_qual_ch2_ar")) { qualityPoints += _$.num("npc_qual_ch2_ar");}
                if (_$.checked("npc_qual_ch2_cm")) { qualityPoints += _$.num("npc_qual_ch2_cm");}
                if (_$.checked("npc_qual_ch2_de")) { qualityPoints += _$.num("npc_qual_ch2_de");}
                if (_$.checked("npc_qual_ch2_fj")) { qualityPoints += _$.num("npc_qual_ch2_fj");}
                if (_$.checked("npc_qual_ch2_is")) { qualityPoints += _$.num("npc_qual_ch2_is");}
                if (_$.checked("npc_qual_ch2_pl")) { qualityPoints += _$.num("npc_qual_ch2_pl");}
                if (_$.checked("npc_qual_ch2_sw")) { qualityPoints += _$.num("npc_qual_ch2_sw");}
                if (_$.checked("npc_qual_chat")) { qualityPoints += _$.num("npc_qual_chat");}
                if (_$.checked("npc_qual_clab")) { qualityPoints += Number(_$.get("caTotalXP").innerHTML);}
                if (_$.checked("npc_qual_cl")) { qualityPoints += _$.num("npc_qual_cl");}
                if (_$.checked("npc_qual_cb")) { qualityPoints += _$.num("npc_qual_cb");}
                if (_$.checked("npc_qual_ci")) { qualityPoints += _$.num("npc_qual_ci");}
                if (_$.checked("npc_qual_ci_baf")) { qualityPoints += _$.num("npc_qual_ci_baf");}
                if (_$.checked("npc_qual_ci_ble")) { qualityPoints += _$.num("npc_qual_ci_ble");}
                if (_$.checked("npc_qual_ci_bli")) { qualityPoints += _$.num("npc_qual_ci_bli");}
                if (_$.checked("npc_qual_ci_dea")) { qualityPoints += _$.num("npc_qual_ci_dea");}
                if (_$.checked("npc_qual_ci_enr")) { qualityPoints += _$.num("npc_qual_ci_enr");}
                if (_$.checked("npc_qual_ci_ent")) { qualityPoints += _$.num("npc_qual_ci_ent");}
                if (_$.checked("npc_qual_ci_fat")) { qualityPoints += _$.num("npc_qual_ci_fat");}
                if (_$.checked("npc_qual_ci_fix")) { qualityPoints += _$.num("npc_qual_ci_fix");}
                if (_$.checked("npc_qual_ci_fla")) { qualityPoints += _$.num("npc_qual_ci_fla");}
                if (_$.checked("npc_qual_ci_ffo")) { qualityPoints += _$.num("npc_qual_ci_ffo");}
                if (_$.checked("npc_qual_ci_fri")) { qualityPoints += _$.num("npc_qual_ci_fri");}
                if (_$.checked("npc_qual_ci_hel")) { qualityPoints += _$.num("npc_qual_ci_hel");}
                if (_$.checked("npc_qual_ci_hlp")) { qualityPoints += _$.num("npc_qual_ci_hlp");}
                if (_$.checked("npc_qual_ci_hid")) { qualityPoints += _$.num("npc_qual_ci_hid");}
                if (_$.checked("npc_qual_ci_inc")) { qualityPoints += _$.num("npc_qual_ci_inc");}
                if (_$.checked("npc_qual_ci_inv")) { qualityPoints += _$.num("npc_qual_ci_inv");}
                if (_$.checked("npc_qual_ci_par")) { qualityPoints += _$.num("npc_qual_ci_par");}
                if (_$.checked("npc_qual_ci_pin")) { qualityPoints += _$.num("npc_qual_ci_pin");}
                if (_$.checked("npc_qual_ci_pro")) { qualityPoints += _$.num("npc_qual_ci_pro");}
                if (_$.checked("npc_qual_ci_sha")) { qualityPoints += _$.num("npc_qual_ci_sha");}
                if (_$.checked("npc_qual_ci_sic")) { qualityPoints += _$.num("npc_qual_ci_sic");}
                if (_$.checked("npc_qual_ci_slo")) { qualityPoints += _$.num("npc_qual_ci_slo");}
                if (_$.checked("npc_qual_ci_spr")) { qualityPoints += _$.num("npc_qual_ci_spr");}
                if (_$.checked("npc_qual_ci_stu")) { qualityPoints += _$.num("npc_qual_ci_stu");}
                if (_$.checked("npc_qual_conim")) { qualityPoints += _$.num("npc_qual_conim");}
                if (_$.checked("npc_qual_conv")) { qualityPoints += _$.num("npc_qual_conv");}
                if (_$.checked("npc_qual_crithes")) { qualityPoints += _$.num("npc_qual_crithes");}
                if (_$.checked("npc_qual_critsur")) { qualityPoints += _$.num("npc_qual_critsur");}
                if (_$.checked("npc_qual_dd_ac")) { qualityPoints += _$.num("npc_qual_dd_ac");}
                if (_$.checked("npc_qual_dd_ba")) { qualityPoints += _$.num("npc_qual_dd_ba");}
                if (_$.checked("npc_qual_dd_co")) { qualityPoints += _$.num("npc_qual_dd_co");}
                if (_$.checked("npc_qual_dd_di")) { qualityPoints += _$.num("npc_qual_dd_di");}
                if (_$.checked("npc_qual_dd_el")) { qualityPoints += _$.num("npc_qual_dd_el");}
                if (_$.checked("npc_qual_dd_ex")) { qualityPoints += _$.num("npc_qual_dd_ex");}
                if (_$.checked("npc_qual_dd_fi")) { qualityPoints += _$.num("npc_qual_dd_fi");}
                if (_$.checked("npc_qual_dd_fl")) { qualityPoints += _$.num("npc_qual_dd_fl");}
                if (_$.checked("npc_qual_dd_fo")) { qualityPoints += _$.num("npc_qual_dd_fo");}
                if (_$.checked("npc_qual_dd_he")) { qualityPoints += _$.num("npc_qual_dd_he");}
                if (_$.checked("npc_qual_dd_sa")) { qualityPoints += _$.num("npc_qual_dd_sa");}
                if (_$.checked("npc_qual_dd_so")) { qualityPoints += _$.num("npc_qual_dd_so");}
                if (_$.checked("npc_qual_dd_st")) { qualityPoints += _$.num("npc_qual_dd_st");}
                if (_$.checked("npc_qual_dd_su")) { qualityPoints += _$.num("npc_qual_dd_su");}
                if (_$.checked("npc_qual_dd_le")) { qualityPoints += _$.num("npc_qual_dd_le");}
                if (_$.checked("npc_qual_di_ac")) { qualityPoints += _$.num("npc_qual_di_ac");}
                if (_$.checked("npc_qual_di_ba")) { qualityPoints += _$.num("npc_qual_di_ba");}
                if (_$.checked("npc_qual_di_co")) { qualityPoints += _$.num("npc_qual_di_co");}
                if (_$.checked("npc_qual_di_di")) { qualityPoints += _$.num("npc_qual_di_di");}
                if (_$.checked("npc_qual_di_el")) { qualityPoints += _$.num("npc_qual_di_el");}
                if (_$.checked("npc_qual_di_ex")) { qualityPoints += _$.num("npc_qual_di_ex");}
                if (_$.checked("npc_qual_di_fi")) { qualityPoints += _$.num("npc_qual_di_fi");}
                if (_$.checked("npc_qual_di_fl")) { qualityPoints += _$.num("npc_qual_di_fl");}
                if (_$.checked("npc_qual_di_fo")) { qualityPoints += _$.num("npc_qual_di_fo");}
                if (_$.checked("npc_qual_di_he")) { qualityPoints += _$.num("npc_qual_di_he");}
                if (_$.checked("npc_qual_di_sa")) { qualityPoints += _$.num("npc_qual_di_sa");}
                if (_$.checked("npc_qual_di_so")) { qualityPoints += _$.num("npc_qual_di_so");}
                if (_$.checked("npc_qual_di_st")) { qualityPoints += _$.num("npc_qual_di_st");}
                if (_$.checked("npc_qual_di_su")) { qualityPoints += _$.num("npc_qual_di_su");}
                if (_$.checked("npc_qual_di_le")) { qualityPoints += _$.num("npc_qual_di_le");}
                if (_$.checked("npc_qual_dv") && _$.selected("npc_qual_dv1")) { qualityPoints += _$.num("npc_qual_dv1");}
                if (_$.checked("npc_qual_dv") && _$.selected("npc_qual_dv2")) { qualityPoints += _$.num("npc_qual_dv2");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_le")) { qualityPoints += _$.num("npc_qual_dt_le");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_ac")) { qualityPoints += _$.num("npc_qual_dt_ac");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_ba")) { qualityPoints += _$.num("npc_qual_dt_ba");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_co")) { qualityPoints += _$.num("npc_qual_dt_co");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_di")) { qualityPoints += _$.num("npc_qual_dt_di");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_el")) { qualityPoints += _$.num("npc_qual_dt_el");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_ex")) { qualityPoints += _$.num("npc_qual_dt_ex");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_fi")) { qualityPoints += _$.num("npc_qual_dt_fi");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_fl")) { qualityPoints += _$.num("npc_qual_dt_fl");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_fo")) { qualityPoints += _$.num("npc_qual_dt_fo");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_he")) { qualityPoints += _$.num("npc_qual_dt_he");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_sa")) { qualityPoints += _$.num("npc_qual_dt_sa");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_so")) { qualityPoints += _$.num("npc_qual_dt_so");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_st")) { qualityPoints += _$.num("npc_qual_dt_st");}
                if (_$.checked("npc_qual_dt") && _$.selected("npc_qual_dt_su")) { qualityPoints += _$.num("npc_qual_dt_su");}
                if (_$.checked("npc_qual_dev") && _$.selected("npc_qual_dev1")) { qualityPoints += _$.num("npc_qual_dev1");}
                if (_$.checked("npc_qual_dev") && _$.selected("npc_qual_dev2")) { qualityPoints += _$.num("npc_qual_dev2");}
                if (_$.checked("npc_qual_dev") && _$.selected("npc_qual_dev3")) { qualityPoints += _$.num("npc_qual_dev3");}
                if (_$.checked("npc_qual_dev") && _$.selected("npc_qual_dev4")) { qualityPoints += _$.num("npc_qual_dev4");}
                if (_$.checked("npc_qual_dev") && _$.selected("npc_qual_dev5")) { qualityPoints += _$.num("npc_qual_dev5");}
                if (_$.checked("npc_qual_esb")) { qualityPoints += Number($.get("spellNum").innerHTML);}
                if (_$.checked("npc_qual_exp_acr")) { qualityPoints += _$.num("npc_qual_exp_acr");}
                if (_$.checked("npc_qual_exp_ath")) { qualityPoints += _$.num("npc_qual_exp_ath");}
                if (_$.checked("npc_qual_exp_ble")) { qualityPoints += _$.num("npc_qual_exp_ble");}
                if (_$.checked("npc_qual_exp_blu")) { qualityPoints += _$.num("npc_qual_exp_blu");}
                if (_$.checked("npc_qual_exp_cra")) { qualityPoints += _$.num("npc_qual_exp_cra");}
                if (_$.checked("npc_qual_exp_dis")) { qualityPoints += _$.num("npc_qual_exp_dis");}
                if (_$.checked("npc_qual_exp_hag")) { qualityPoints += _$.num("npc_qual_exp_hag");}
                if (_$.checked("npc_qual_exp_imp")) { qualityPoints += _$.num("npc_qual_exp_imp");}
                if (_$.checked("npc_qual_exp_int")) { qualityPoints += _$.num("npc_qual_exp_int");}
                if (_$.checked("npc_qual_exp_inv")) { qualityPoints += _$.num("npc_qual_exp_inv");}
                if (_$.checked("npc_qual_exp_med")) { qualityPoints += _$.num("npc_qual_exp_med");}
                if (_$.checked("npc_qual_exp_not")) { qualityPoints += _$.num("npc_qual_exp_not");}
                if (_$.checked("npc_qual_exp_pre")) { qualityPoints += _$.num("npc_qual_exp_pre");}
                if (_$.checked("npc_qual_exp_res")) { qualityPoints += _$.num("npc_qual_exp_res");}
                if (_$.checked("npc_qual_exp_rid")) { qualityPoints += _$.num("npc_qual_exp_rid");}
                if (_$.checked("npc_qual_exp_sea")) { qualityPoints += _$.num("npc_qual_exp_sea");}
                if (_$.checked("npc_qual_exp_sen")) { qualityPoints += _$.num("npc_qual_exp_sen");}
                if (_$.checked("npc_qual_exp_sne")) { qualityPoints += _$.num("npc_qual_exp_sne");}
                if (_$.checked("npc_qual_exp_spe")) { qualityPoints += _$.num("npc_qual_exp_spe");}
                if (_$.checked("npc_qual_exp_sur")) { qualityPoints += _$.num("npc_qual_exp_sur");}
                if (_$.checked("npc_qual_exp_tac")) { qualityPoints += _$.num("npc_qual_exp_tac");}
                if (_$.checked("npc_qual_fh")) { qualityPoints += _$.num("npc_qual_fh");}
                if (_$.checked("npc_qual_ff")) { qualityPoints += _$.num("npc_qual_ff");}
                if (_$.checked("npc_qual_faf_an")) { qualityPoints += _$.num("npc_qual_faf_an");}
                if (_$.checked("npc_qual_faf_be")) { qualityPoints += _$.num("npc_qual_faf_be");}
                if (_$.checked("npc_qual_faf_co")) { qualityPoints += _$.num("npc_qual_faf_co");}
                if (_$.checked("npc_qual_faf_el")) { qualityPoints += _$.num("npc_qual_faf_el");}
                if (_$.checked("npc_qual_faf_fe")) { qualityPoints += _$.num("npc_qual_faf_fe");}
                if (_$.checked("npc_qual_faf_fo")) { qualityPoints += _$.num("npc_qual_faf_fo");}
                if (_$.checked("npc_qual_faf_ho")) { qualityPoints += _$.num("npc_qual_faf_ho");}
                if (_$.checked("npc_qual_faf_oo")) { qualityPoints += _$.num("npc_qual_faf_oo");}
                if (_$.checked("npc_qual_faf_ou")) { qualityPoints += _$.num("npc_qual_faf_ou");}
                if (_$.checked("npc_qual_faf_pl")) { qualityPoints += _$.num("npc_qual_faf_pl");}
                if (_$.checked("npc_qual_faf_sp")) { qualityPoints += _$.num("npc_qual_faf_sp");}
                if (_$.checked("npc_qual_faf_un")) { qualityPoints += _$.num("npc_qual_faf_un");}
                if (_$.checked("npc_qual_fl") && _$.selected("npc_qual_fl1")) { qualityPoints += _$.num("npc_qual_fl1");}
                if (_$.checked("npc_qual_fl") && _$.selected("npc_qual_fl2")) { qualityPoints += _$.num("npc_qual_fl2");}
                if (_$.checked("npc_qual_feat")) { qualityPoints += Number(_$.get("featNum").innerHTML) * 2;}
                if (_$.checked("npc_qual_fera")) { qualityPoints += _$.num("npc_qual_fera");}
                if (_$.checked("npc_qual_fero")) { qualityPoints += _$.num("npc_qual_fero");}
                if (_$.checked("npc_qual_fz") && _$.selected("npc_qual_fz1")) { qualityPoints += _$.num("npc_qual_fz1");}
                if (_$.checked("npc_qual_fz") && _$.selected("npc_qual_fz2")) { qualityPoints += _$.num("npc_qual_fz2");}
                if (_$.checked("npc_qual_fz") && _$.selected("npc_qual_fz3")) { qualityPoints += _$.num("npc_qual_fz3");}
                if (_$.checked("npc_qual_grap")) { qualityPoints += _$.num("npc_qual_grap");}
                if (_$.checked("npc_qual_gru")) { qualityPoints += _$.num("npc_qual_gru");}
                if (_$.checked("npc_qual_hm")) { qualityPoints += _$.num("npc_qual_hm");}
                if (_$.checked("npc_qual_ho")) { qualityPoints += _$.num("npc_qual_ho");}
                if (_$.checked("npc_qual_is_vi")) { qualityPoints += _$.num("npc_qual_is_vi");}
                if (_$.checked("npc_qual_is_he")) { qualityPoints += _$.num("npc_qual_is_he");}
                if (_$.checked("npc_qual_is_sc")) { qualityPoints += _$.num("npc_qual_is_sc");}
                if (_$.checked("npc_qual_icc")) { qualityPoints += _$.num("npc_qual_icc");}
                if (_$.checked("npc_qual_irs_vi")) { qualityPoints += _$.num("npc_qual_irs_vi");}
                if (_$.checked("npc_qual_irs_he")) { qualityPoints += _$.num("npc_qual_irs_he");}
                if (_$.checked("npc_qual_irs_sc")) { qualityPoints += _$.num("npc_qual_irs_sc");}
                if (_$.checked("npc_qual_imp_stab")) { qualityPoints += _$.num("npc_qual_imp_stab");}
                if (_$.checked("npc_qual_int")) { qualityPoints += _$.num("npc_qual_int");}
                if (_$.checked("npc_qual_inv")) { qualityPoints += _$.num("npc_qual_inv");}
                if (_$.checked("npc_qual_kb")) { qualityPoints += _$.num("npc_qual_kb");}
                if (_$.checked("npc_qual_lse")) { qualityPoints += _$.num("npc_qual_lse");}
                if (_$.checked("npc_qual_lsl")) { qualityPoints += _$.num("npc_qual_lsl");}
                if (_$.checked("npc_qual_lum")) { qualityPoints += _$.num("npc_qual_lum");}
                if (_$.checked("npc_qual_me")) { qualityPoints += _$.num("npc_qual_me");}
                if (_$.checked("npc_qual_men")) { qualityPoints += _$.num("npc_qual_men");}
                if (_$.checked("npc_qual_moo")) { qualityPoints += _$.num("npc_qual_moo");}
                if (_$.checked("npc_qual_ma") && _$.selected("npc_qual_ma1")) { qualityPoints += _$.num("npc_qual_ma1");}
                if (_$.checked("npc_qual_ma") && _$.selected("npc_qual_ma2")) { qualityPoints += _$.num("npc_qual_ma2");}
                if (_$.checked("npc_qual_ma") && _$.selected("npc_qual_ma3")) { qualityPoints += _$.num("npc_qual_ma3");}
                if (_$.checked("npc_qual_ma") && _$.selected("npc_qual_ma4")) { qualityPoints += _$.num("npc_qual_ma4");}
                if (_$.checked("npc_qual_ma") && _$.selected("npc_qual_ma5")) { qualityPoints += _$.num("npc_qual_ma5");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_le")) { qualityPoints += _$.num("npc_qual_nd_le");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_ac")) { qualityPoints += _$.num("npc_qual_nd_ac");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_ba")) { qualityPoints += _$.num("npc_qual_nd_ba");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_co")) { qualityPoints += _$.num("npc_qual_nd_co");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_di")) { qualityPoints += _$.num("npc_qual_nd_di");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_el")) { qualityPoints += _$.num("npc_qual_nd_el");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_ex")) { qualityPoints += _$.num("npc_qual_nd_ex");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_fi")) { qualityPoints += _$.num("npc_qual_nd_fi");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_fl")) { qualityPoints += _$.num("npc_qual_nd_fl");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_fo")) { qualityPoints += _$.num("npc_qual_nd_fo");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_he")) { qualityPoints += _$.num("npc_qual_nd_he");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_sa")) { qualityPoints += _$.num("npc_qual_nd_sa");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_so")) { qualityPoints += _$.num("npc_qual_nd_so");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_st")) { qualityPoints += _$.num("npc_qual_nd_st");}
                if (_$.checked("npc_qual_nd") && _$.selected("npc_qual_nd_su")) { qualityPoints += _$.num("npc_qual_nd_su");}
                if (_$.checked("npc_qual_ns")) { qualityPoints += Number(_$.get("nsTotalLevels").innerHTML);}
                if (_$.checked("npc_qual_no")) { qualityPoints += _$.num("npc_qual_no");}
                if (_$.checked("npc_qual_nb")) { qualityPoints += _$.num("npc_qual_nb");}
                if (_$.checked("npc_qual_noc")) { qualityPoints += _$.num("npc_qual_noc");}
                if (_$.checked("npc_qual_re") && _$.selected("npc_qual_re1")) { qualityPoints += _$.num("npc_qual_re1");}
                if (_$.checked("npc_qual_re") && _$.selected("npc_qual_re2")) { qualityPoints += _$.num("npc_qual_re2");}
                if (_$.checked("npc_qual_re") && _$.selected("npc_qual_re3")) { qualityPoints += _$.num("npc_qual_re3");}
                if (_$.checked("npc_qual_re") && _$.selected("npc_qual_re4")) { qualityPoints += _$.num("npc_qual_re4");}
                if (_$.checked("npc_qual_re") && _$.selected("npc_qual_re5")) { qualityPoints += _$.num("npc_qual_re5");}
                if (_$.checked("npc_qual_rend")) { qualityPoints += _$.num("npc_qual_rend");}
                if (_$.checked("npc_qual_rep") && _$.selected("npc_qual_rep1")) { qualityPoints += _$.num("npc_qual_rep1");}
                if (_$.checked("npc_qual_rep") && _$.selected("npc_qual_rep2")) { qualityPoints += _$.num("npc_qual_rep2");}
                if (_$.checked("npc_qual_rep") && _$.selected("npc_qual_rep3")) { qualityPoints += _$.num("npc_qual_rep3");}
                if (_$.checked("npc_qual_rep") && _$.selected("npc_qual_rep4")) { qualityPoints += _$.num("npc_qual_rep4");}
                if (_$.checked("npc_qual_rep") && _$.selected("npc_qual_rep5")) { qualityPoints += _$.num("npc_qual_rep5");}
                if (_$.checked("npc_qual_sha")) { qualityPoints += _$.num("npc_qual_sha");}
                if (_$.checked("npc_qual_shsh") && _$.selected("npc_qual_shsh1")) { qualityPoints += _$.num("npc_qual_shsh1");}
                if (_$.checked("npc_qual_shsh") && _$.selected("npc_qual_shsh2")) { qualityPoints += _$.num("npc_qual_shsh2");}
                if (_$.checked("npc_qual_shsh") && _$.selected("npc_qual_shsh3")) { qualityPoints += _$.num("npc_qual_shsh3");}
                if (_$.checked("npc_qual_sd") && _$.selected("npc_qual_sd1")) { qualityPoints += _$.num("npc_qual_sd1");}
                if (_$.checked("npc_qual_sd") && _$.selected("npc_qual_sd2")) { qualityPoints += _$.num("npc_qual_sd2");}
                if (_$.checked("npc_qual_sd") && _$.selected("npc_qual_sd3")) { qualityPoints += _$.num("npc_qual_sd3");}
                if (_$.checked("npc_qual_sd") && _$.selected("npc_qual_sd4")) { qualityPoints += _$.num("npc_qual_sd4");}
                if (_$.checked("npc_qual_sd") && _$.selected("npc_qual_sd5")) { qualityPoints += _$.num("npc_qual_sd5");}
                if (_$.checked("npc_qual_sr")) { qualityPoints += _$.num("npc_qual_sr");}
                if (_$.checked("npc_qual_splds")) { qualityPoints += _$.num("npc_qual_splds");}
                if (_$.checked("npc_qual_spldsi")) { qualityPoints += _$.num("npc_qual_spldsi");}
                if (_$.checked("npc_qual_splks")) { qualityPoints += _$.num("npc_qual_splks");}
                if (_$.checked("npc_qual_splksi")) { qualityPoints += _$.num("npc_qual_splksi");}
                if (_$.checked("npc_qual_st")) { qualityPoints += _$.num("npc_qual_st");}
                if (_$.checked("npc_qual_stern")) { qualityPoints += _$.num("npc_qual_stern");}
                if (_$.checked("npc_qual_sc")) { qualityPoints += _$.num("npc_qual_sc");}
                if (_$.checked("npc_qual_sucl") && _$.selected("npc_qual_sucl1")) { qualityPoints += _$.num("npc_qual_sucl1");}
                if (_$.checked("npc_qual_sucl") && _$.selected("npc_qual_sucl2")) { qualityPoints += _$.num("npc_qual_sucl2");}
                if (_$.checked("npc_qual_sucl") && _$.selected("npc_qual_sucl3")) { qualityPoints += _$.num("npc_qual_sucl3");}
                if (_$.checked("npc_qual_sucl") && _$.selected("npc_qual_sucl4")) { qualityPoints += _$.num("npc_qual_sucl4");}
                if (_$.checked("npc_qual_sucl") && _$.selected("npc_qual_sucl5")) { qualityPoints += _$.num("npc_qual_sucl5");}
                if (_$.checked("npc_qual_suju") && _$.selected("npc_qual_suju1")) { qualityPoints += _$.num("npc_qual_suju1");}
                if (_$.checked("npc_qual_suju") && _$.selected("npc_qual_suju2")) { qualityPoints += _$.num("npc_qual_suju2");}
                if (_$.checked("npc_qual_suju") && _$.selected("npc_qual_suju3")) { qualityPoints += _$.num("npc_qual_suju3");}
                if (_$.checked("npc_qual_suju") && _$.selected("npc_qual_suju4")) { qualityPoints += _$.num("npc_qual_suju4");}
                if (_$.checked("npc_qual_suju") && _$.selected("npc_qual_suju5")) { qualityPoints += _$.num("npc_qual_suju5");}
                if (_$.checked("npc_qual_suru") && _$.selected("npc_qual_suru1")) { qualityPoints += _$.num("npc_qual_suru1");}
                if (_$.checked("npc_qual_suru") && _$.selected("npc_qual_suru2")) { qualityPoints += _$.num("npc_qual_suru2");}
                if (_$.checked("npc_qual_suru") && _$.selected("npc_qual_suru3")) { qualityPoints += _$.num("npc_qual_suru3");}
                if (_$.checked("npc_qual_suru") && _$.selected("npc_qual_suru4")) { qualityPoints += _$.num("npc_qual_suru4");}
                if (_$.checked("npc_qual_suru") && _$.selected("npc_qual_suru5")) { qualityPoints += _$.num("npc_qual_suru5");}
                if (_$.checked("npc_qual_susw") && _$.selected("npc_qual_susw1")) { qualityPoints += _$.num("npc_qual_susw1");}
                if (_$.checked("npc_qual_susw") && _$.selected("npc_qual_susw2")) { qualityPoints += _$.num("npc_qual_susw2");}
                if (_$.checked("npc_qual_susw") && _$.selected("npc_qual_susw3")) { qualityPoints += _$.num("npc_qual_susw3");}
                if (_$.checked("npc_qual_susw") && _$.selected("npc_qual_susw4")) { qualityPoints += _$.num("npc_qual_susw4");}
                if (_$.checked("npc_qual_susw") && _$.selected("npc_qual_susw5")) { qualityPoints += _$.num("npc_qual_susw5");}
                if (_$.checked("npc_qual_sutr") && _$.selected("npc_qual_sutr1")) { qualityPoints += _$.num("npc_qual_sutr1");}
                if (_$.checked("npc_qual_sutr") && _$.selected("npc_qual_sutr2")) { qualityPoints += _$.num("npc_qual_sutr2");}
                if (_$.checked("npc_qual_sutr") && _$.selected("npc_qual_sutr3")) { qualityPoints += _$.num("npc_qual_sutr3");}
                if (_$.checked("npc_qual_sutr") && _$.selected("npc_qual_sutr4")) { qualityPoints += _$.num("npc_qual_sutr4");}
                if (_$.checked("npc_qual_sutr") && _$.selected("npc_qual_sutr5")) { qualityPoints += _$.num("npc_qual_sutr5");}
                if (_$.checked("npc_qual_swarm")) { qualityPoints += _$.num("npc_qual_swarm");}
                if (_$.checked("npc_qual_swat") && _$.selected("npc_qual_swat1")) { qualityPoints += _$.num("npc_qual_swat1");}
                if (_$.checked("npc_qual_swat") && _$.selected("npc_qual_swat2")) { qualityPoints += _$.num("npc_qual_swat2");}
                if (_$.checked("npc_qual_swat") && _$.selected("npc_qual_swat3")) { qualityPoints += _$.num("npc_qual_swat3");}
                if (_$.checked("npc_qual_swat") && _$.selected("npc_qual_swat4")) { qualityPoints += _$.num("npc_qual_swat4");}
                if (_$.checked("npc_qual_swat") && _$.selected("npc_qual_swat5")) { qualityPoints += _$.num("npc_qual_swat5");}
                if (_$.checked("npc_qual_tel")) { qualityPoints += _$.num("npc_qual_tel");}
                if (_$.checked("npc_qual_tou") && _$.selected("npc_qual_tou1")) { qualityPoints += _$.num("npc_qual_tou1");}
                if (_$.checked("npc_qual_tou") && _$.selected("npc_qual_tou2")) { qualityPoints += _$.num("npc_qual_tou2");}
                if (_$.checked("npc_qual_tou") && _$.selected("npc_qual_tou3")) { qualityPoints += _$.num("npc_qual_tou3");}
                if (_$.checked("npc_qual_tou") && _$.selected("npc_qual_tou4")) { qualityPoints += _$.num("npc_qual_tou4");}
                if (_$.checked("npc_qual_tou") && _$.selected("npc_qual_tou5")) { qualityPoints += _$.num("npc_qual_tou5");}
                if (_$.checked("npc_qual_trec")) { qualityPoints += _$.num("npc_qual_trec");}
                if (_$.checked("npc_qual_tric")) { qualityPoints += _$.num("npc_qual_tric");}
                if (_$.checked("npc_qual_turn")) { qualityPoints += _$.num("npc_qual_turn");}
                if (_$.checked("npc_qual_ti")) { qualityPoints += _$.num("npc_qual_ti");}
                if (_$.checked("npc_qual_usp")) { qualityPoints += _$.num("npc_qual_usp");}
                if (_$.checked("npc_qual_unn")) { qualityPoints += _$.num("npc_qual_unn");}
                if (_$.checked("npc_qual_vet") && _$.selected("npc_qual_vet1")) { qualityPoints += _$.num("npc_qual_vet1");}
                if (_$.checked("npc_qual_vet") && _$.selected("npc_qual_vet2")) { qualityPoints += _$.num("npc_qual_vet2");}
                if (_$.checked("npc_qual_vet") && _$.selected("npc_qual_vet3")) { qualityPoints += _$.num("npc_qual_vet3");}
                if (_$.checked("npc_qual_vet") && _$.selected("npc_qual_vet4")) { qualityPoints += _$.num("npc_qual_vet4");}
                if (_$.checked("npc_qual_vet") && _$.selected("npc_qual_vet5")) { qualityPoints += _$.num("npc_qual_vet5");}

                //Set qualityPoints
                _$.set("qualitiesXP", qualityPoints);

                //Return sum of scores
                return qualityPoints;
            }

            function calcAttacksXP() {
                var attackPoints = 0;

                var na = Number(_$.html("naTotalXP"));
                var ea = Number(_$.html("eaTotalXP"));
                attackPoints = na + ea;

                _$.set("attackXPTotal", attackPoints);

                return attackPoints;
            }
            
            function cXP() {
                //Calculate XP
                //Type XP
                var ty = calcTypeXP();

                //Mobility XP
                var mo = calcMobilityXP();

                //Attribute XP
                var ab = calcAttributesXP();

                //Trait XP
                var tr = calcTraitsXP();

                //Health XP
                var he = calcHealthXP();

                //Signature Skills XP
                var ss = calcSSXP();

                //NPC Qualities XP
                var qt = calcQualitiesXP();

                //Attacks XP
                var at = calcAttacksXP();

                var s1 = Number(ty + mo + ab + tr + he + ss);
                _$.set("statXPTotal", s1);
                _$.set("xp_num", (s1 + qt + at));
            }

            function mobSelect() {
                var sel = _$.val('mobi');
                var mobXP = 0;
                switch (sel) {
                    case "Walker":
                        _$.setVal("burrower_spd", 0);
                        _$.setVal("flyer_spd", 0);
                        _$.setVal("walker_spd", 30);
                        _$.setVal("swimmer_spd", 0);
                        break;

                    case "Burrower":
                        _$.setVal("burrower_spd", 30);
                        _$.setVal("flyer_spd", 0);
                        _$.setVal("walker_spd", 0);
                        _$.setVal("swimmer_spd", 0);
                        break;

                    case "Flyer":
                        _$.setVal("burrower_spd", 0);
                        _$.setVal("flyer_spd", 30);
                        _$.setVal("walker_spd", 0);
                        _$.setVal("swimmer_spd", 0);
                    break;

                    case "Swimmer":
                        _$.setVal("burrower_spd", 0);
                        _$.setVal("flyer_spd", 0);
                        _$.setVal("walker_spd", 0);
                        _$.setVal("swimmer_spd", 30);
                        break;
                }
                _$.set("mobilityXP", mobXP);
                cXP();
            }

            function mob(sel) {
                if (sel === "immobile_sel") {
                    _$.get("mobile").style="display:none";
                    _$.set("mobilityXP", -5);
                    immobility = 1;
                }
                if (sel === "mobile_sel") {
                    _$.get("mobile").style="display:block";
                    _$.set("mobilityXP", 0);
                    immobility = 0;
                    mobSelect();
                }
                cXP();
            }

            function szSelect(szpass) {
                switch (szpass) {
                    case "Nuissance":
                        sizeMod = 5;
                        break;
                    case "Fine":
                        sizeMod = 4;
                        break;
                    case "Diminuitive":
                        sizeMod = 3;
                        break;
                    case "Tiny":
                        sizeMod = 2;
                        break;
                    case "Small":
                        sizeMod = 1;
                        break;
                    case "Medium":
                        sizeMod = 0;
                        break;
                    case "Large":
                        _$.get("dimensions").style.display = "block";
                        _$.set("fp", "Up to 3 x 3");
                        _$.get("npc_fpw").max = 3;
                        _$.get("npc_fpl").max = 3;
                        _$.setVal("npc_fpw", 3);
                        _$.setVal("npc_fpl", 3);
                        sizeMod = -1;
                        break;
                    case "Huge":
                        _$.get("dimensions").style.display = "block";
                        _$.set("fp", "Up to 6 x 6");
                        _$.get("npc_fpw").max = 6;
                        _$.get("npc_fpl").max = 6;
                        _$.setVal("npc_fpw", 4);
                        _$.setVal("npc_fpl", 4);
                        sizeMod = -2;
                        break;
                    case "Gargantuan":
                        _$.get("dimensions").style.display = "block";
                        _$.set("fp", "Up to 12 x 12");
                        _$.get("npc_fpw").max = 12;
                        _$.get("npc_fpl").max = 12;
                        _$.setVal("npc_fpw", 7);
                        _$.setVal("npc_fpl", 7);
                        sizeMod = -3;
                        break;
                    case "Colossal":
                        _$.get("dimensions").style.display = "block";
                        _$.set("fp", "Up to 25 x 25");
                        _$.get("npc_fpw").max = 25;
                        _$.get("npc_fpl").max = 25;
                        _$.setVal("npc_fpw", 13);
                        _$.setVal("npc_fpl", 13);
                        sizeMod = -4;
                        break;
                    case "Enormous":
                        _$.get("dimensions").style.display = "block";
                        _$.set("fp", "Up to 50 x 50");
                        _$.get("npc_fpw").max = 50;
                        _$.get("npc_fpl").max = 50;
                        _$.setVal("npc_fpw", 26);
                        _$.setVal("npc_fpl", 26);
                        sizeMod = -5;
                        break;
                    case "Vast":
                        _$.get("dimensions").style.display = "block";
                        _$.set("fp", "Greater than 50 x 50");
                        _$.get("npc_fpw").max = 100;
                        _$.get("npc_fpl").max = 100;
                        _$.setVal("npc_fpw", 51);
                        _$.setVal("npc_fpl", 51);
                        sizeMod = -32;
                        break;
                    default:
                        _$.get("dimensions").style.display = "none";
                        _$.set("fp", "Up to 1 x 1");
                        _$.get("npc_fpw").max = 1;
                        _$.get("npc_fpl").max = 1;
                        _$.setVal("npc_fpw", 1);
                        _$.setVal("npc_fpl", 1);
                        break;
                }
            }

            function addListItem_Spell() {
                var s = "spell" + spellIndex;
                var s2 = "removeListItem_Spell(" + "'" + s + "'" + ")";
                const listItem = document.createElement("li");
                listItem.id = s;
                const inText = document.createElement("input");
                inText.type = "text";
                const spn = document.createElement("span");
                spn.setAttribute("onclick", s2);
                spn.innerHTML= "X";
                
                listItem.appendChild(inText);
                listItem.appendChild(spn);

                _$.get("p_spellList").appendChild(listItem);
                
                var spells = document.querySelectorAll("#p_spellList li");
                _$.set("spellNum", spells.length);
                spellIndex += 1;
                cXP();
            }

            function removeListItem_Spell(item) {                
                _$.get(item).remove();
                var spells = document.querySelectorAll("#p_spellList li");
                _$.set("spellNum", spells.length);
                cXP();
            }

            function addListItem_Feat() {
                var f = "feat" + featIndex;
                var f2 = "removeListItem_Feat(" + "'" + f + "'" + ")";
                const listItem = document.createElement("li");
                listItem.id = f;
                const inText = document.createElement("input");
                inText.type = "text";
                const spn = document.createElement("span");
                spn.setAttribute("onclick", f2);
                spn.innerHTML= "X";
                
                listItem.appendChild(inText);
                listItem.appendChild(spn);

                _$.get("p_featList").appendChild(listItem);
                
                var feats = document.querySelectorAll("#p_featList li");
                _$.set("featNum", feats.length);
                featIndex += 1;
                cXP();
            }

            function removeListItem_Feat(item) {                
                _$.get(item).remove();
                var feats = document.querySelectorAll("#p_featList li");
                _$.set("featNum", feats.length);
                cXP();
            }

            function addListItem_NS() {                
                var s = "ns" + nsIndex;
                var s2 = "removeListItem_NS(" + "'" + s + "'" + ");";
                const listItem = document.createElement("li");
                listItem.id = s;
                const inText = document.createElement("input");
                inText.type = "text";
                const inText2 = document.createElement("input");
                inText2.type = "number";
                inText2.min = 0;
                inText2.max = 9;
                inText2.step = 1;
                inText2.value = 0;
                inText2.setAttribute("onchange", "calcNSXP()");
                //Add other attributes here
                const spn = document.createElement("span");
                spn.setAttribute("onclick", s2);
                spn.innerHTML= "X";
                
                listItem.appendChild(inText);
                listItem.appendChild(inText2);
                listItem.appendChild(spn);

                _$.get("p_nsList").appendChild(listItem);
                nsIndex += 1;
                calcNSXP();
                cXP();
            }

            function calcNSXP() {
                var ns = document.querySelectorAll("#p_nsList li");
                var nsxp = 0;
                for (n = 0; n < ns.length; n++) {
                    nsxp += Number(ns[n].childNodes[1].value);
                }
                _$.set("nsTotalLevels", nsxp);
            }

            function removeListItem_NS(item) {
                _$.get(item).remove();
                var ns = document.querySelectorAll("#p_nsList li");
                calcNSXP();
                cXP();
            }

            function addListItem_CA() {
                var c = "ca" + caIndex;
                var c2 = "removeListItem_CA(" + "'" + c + "'" + ");";
                const listItem = document.createElement("li");
                listItem.id = c;
                const inText = document.createElement("input");
                inText.type = "text";
                const inText2 = document.createElement("input");
                inText2.type = "number";
                inText2.min = 1;
                inText2.max = 10;
                inText2.step = 1;
                inText2.value = 1;
                inText2.setAttribute("onchange", "calcCAXP()");
                //Add other attributes here
                const spn = document.createElement("span");
                spn.setAttribute("onclick", c2);
                spn.innerHTML= "X";

                listItem.appendChild(inText);
                listItem.appendChild(inText2);
                listItem.appendChild(spn);

                document.getElementById("p_caList").appendChild(listItem);
                caIndex += 1;
                calcCAXP();
            }

            function calcCAXP() {
                var ca = document.querySelectorAll("#p_caList li");
                var caxp = 0;
                for (c = 0; c < ca.length; c++) {
                    caxp += Number(ca[c].childNodes[1].value);
                }
                _$.set("caTotalXP", caxp);
                cXP();
            }

            function removeListItem_CA(item) {
                document.getElementById(item).remove();
                var ca = document.querySelectorAll("#p_caList li");
                calcCAXP();
            }

            function addListItem_NA() {
                var a = "na" + naIndex;
                var a2 = "removeListItem_NA(" + "'" + a + "'" + ");";
                const listItem = document.createElement("li");
                listItem.id = a;
                const inText = document.createElement("input");
                inText.type = "text";
                const inText2 = document.createElement("input");
                inText2.type = "number";
                inText2.min = 1;
                inText2.max = 5;
                inText2.step = 1;
                inText2.value = 1;
                inText2.setAttribute("onchange", "calcNAXP()");
                //Add other attributes here
                const spn = document.createElement("span");
                spn.setAttribute("onclick", a2);
                spn.innerHTML= "X";
                const brk = document.createElement("br");

                //Add upgrades checkboxes
                const upgrades = document.createElement("form");
                const up1 = document.createElement("input");
                up1.type = "checkbox";
                up1.id = "aligned" + naIndex;
                up1.name = "Upgrades" + naIndex;
                up1.value = 2;
                up1.setAttribute("onchange", "calcNAXP()");
                const aligned = document.createElement("label");
                aligned.innerHTML = "Aligned";

                const up2 = document.createElement("input");
                up2.type = "checkbox";
                up2.id = "ad" + naIndex;
                up2.name = "Upgrades" + naIndex;
                up2.value = 2;
                up2.setAttribute("onchange", "calcNAXP()");
                const ad = document.createElement("label");
                ad.innerHTML = "Alternate Damage";

                const up3 = document.createElement("input");
                up3.type = "checkbox";
                up3.id = "ap" + naIndex;
                up3.name = "Upgrades" + naIndex;
                up3.value = 2;
                up3.setAttribute("onchange", "calcNAXP()");
                const ap = document.createElement("label");
                ap.innerHTML = "Armor-Piercing";

                const up4 = document.createElement("input");
                up4.type = "checkbox";
                up4.id = "bleed" + naIndex;
                up4.name = "Upgrades" + naIndex;
                up4.value = 2;
                up4.setAttribute("onchange", "calcNAXP()");
                const bleed = document.createElement("label");
                bleed.innerHTML = "Bleed";

                const up5 = document.createElement("input");
                up5.type = "checkbox";
                up5.id = "diseased" + naIndex;
                up5.name = "Upgrades" + naIndex;
                up5.value = 2;
                up5.setAttribute("onchange", "calcNAXP()");
                const diseased = document.createElement("label");
                diseased.innerHTML = "Diseased";

                const up6 = document.createElement("input");
                up6.type = "checkbox";
                up6.id = "finesse" + naIndex;
                up6.name = "Upgrades" + naIndex;
                up6.value = 2;
                up6.setAttribute("onchange", "calcNAXP()");
                const finesse = document.createElement("label");
                finesse.innerHTML = "Finesse";

                const up7 = document.createElement("input");
                up7.type = "checkbox";
                up7.id = "grab" + naIndex;
                up7.name = "Upgrades" + naIndex;
                up7.value = 2;
                up7.setAttribute("onchange", "calcNAXP()");
                const grab = document.createElement("label");
                grab.innerHTML = "Grab";

                const up8 = document.createElement("input");
                up8.type = "checkbox";
                up8.id = "keen" + naIndex;
                up8.name = "Upgrades" + naIndex;
                up8.value = 2;
                up8.setAttribute("onchange", "calcNAXP()");
                const keen = document.createElement("label");
                keen.innerHTML = "Keen";

                const up9 = document.createElement("input");
                up9.type = "checkbox";
                up9.id = "reach" + naIndex;
                up9.name = "Upgrades" + naIndex;
                up9.value = 2;
                up9.setAttribute("onchange", "calcNAXP()");
                const reach = document.createElement("label");
                reach.innerHTML = "Reach";

                const up10 = document.createElement("input");
                up10.type = "checkbox";
                up10.id = "trip" + naIndex;
                up10.name = "Upgrades" + naIndex;
                up10.value = 2;
                up10.setAttribute("onchange", "calcNAXP()");
                const trip = document.createElement("label");
                trip.innerHTML = "Trip";

                const up11 = document.createElement("input");
                up11.type = "checkbox";
                up11.id = "venomous" + naIndex;
                up11.name = "Upgrades" + naIndex;
                up11.value = 2;
                up11.setAttribute("onchange", "calcNAXP()");
                const venomous = document.createElement("label");
                venomous.innerHTML = "Venomous";

                listItem.appendChild(inText);
                listItem.appendChild(inText2);
                listItem.appendChild(spn);
                listItem.appendChild(brk);
                //Prepare the upgrades list
                upgrades.appendChild(up1);
                upgrades.appendChild(aligned);
                upgrades.appendChild(brk);
                upgrades.appendChild(up2);
                upgrades.appendChild(ad);
                upgrades.appendChild(brk);
                upgrades.appendChild(up3);
                upgrades.appendChild(ap);
                upgrades.appendChild(brk);
                upgrades.appendChild(up4);
                upgrades.appendChild(bleed);
                upgrades.appendChild(brk);
                upgrades.appendChild(up5);
                upgrades.appendChild(diseased);
                upgrades.appendChild(brk);
                upgrades.appendChild(up6);
                upgrades.appendChild(finesse);
                upgrades.appendChild(brk);
                upgrades.appendChild(up7);
                upgrades.appendChild(grab);
                upgrades.appendChild(brk);
                upgrades.appendChild(up8);
                upgrades.appendChild(keen);
                upgrades.appendChild(brk);
                upgrades.appendChild(up9);
                upgrades.appendChild(reach);
                upgrades.appendChild(brk);
                upgrades.appendChild(up10);
                upgrades.appendChild(trip);
                upgrades.appendChild(brk);
                upgrades.appendChild(up11);
                upgrades.appendChild(venomous);
                upgrades.appendChild(brk);

                listItem.appendChild(upgrades);

                document.getElementById("p_naList").appendChild(listItem);
                naIndex += 1;
                calcNAXP();
            }

            function calcNAXP() {
                var na = document.querySelectorAll("#p_naList li");
                var naxp = 0;
                for (n = 0; n < na.length; n++) {
                    naxp += Number(na[n].childNodes[1].value) * 2; //Adds 2XP per grade
                    //Adds 2XP per upgrade
                    for (x = 0; x < na[n].childNodes[3].length; x++) {
                        if (na[n].childNodes[3].childNodes[x].checked) {
                            naxp += Number(na[n].childNodes[3].childNodes[x].value);
                        }
                    }
                }
                _$.set("naTotalXP",naxp);
                cXP();
            }

            function removeListItem_NA(item) {
                document.getElementById(item).remove();
                var na = document.querySelectorAll("#p_naList li");
                calcNAXP();
            }

            function addListItem_EA() {
                var a = "ea" + eaIndex;
                var a2 = "removeListItem_EA(" + "'" + a + "'" + ");";
                const listItem = document.createElement("li");
                listItem.id = a;
                const inText = document.createElement("input");
                inText.type = "text";
                const inText2 = document.createElement("input");
                inText2.type = "number";
                inText2.min = 0;
                inText2.max = 9;
                inText2.step = 1;
                inText2.value = 0;
                inText2.setAttribute("onchange", "calcEAXP()");
                //Add other attributes here
                const spn = document.createElement("span");
                spn.setAttribute("onclick", a2);
                spn.innerHTML= "X";

                listItem.appendChild(inText);
                listItem.appendChild(inText2);
                listItem.appendChild(spn);

                document.getElementById("p_eaList").appendChild(listItem);
                eaIndex += 1;
                calcEAXP();
            }

            function calcEAXP() {
                var ea = document.querySelectorAll("#p_eaList li");
                var eaxp = 0;
                for (e = 0; e < ea.length; e++) {
                    eaxp += Number(ea[e].childNodes[1].value);
                }
                _$.set("eaTotalXP", eaxp);
                cXP();
            }

            function removeListItem_EA(item) {
                document.getElementById(item).remove();
                var ea = document.querySelectorAll("#p_eaList li");
                calcEAXP();
            }

            function calcDefense() {
                _$.set("p_dex_mod", dexMod);
                _$.set("p_sz_mod", sizeMod);
                _$.set("p_def_score", (10 + Number(_$.html("p_def")) + dexMod + sizeMod));
            }
        </script>
    </head>
    <body onload="cXP()">
        <h1>NPC Dashboard</h1>
        <p>Total XP: <span id="xp_num">0</span></p>
        <form>
            <input type="radio" id="edit" onclick="togglePlay()" name="playToggle" checked>
            <label for="edit">Edit</label>
            <input type="radio" id="play" onclick="togglePlay()" name="playToggle">
            <label for="play">Play</label>
        </form>
        <div id="editSection">

        <h2 onclick="toggleSection('step0')">Step 0: Concept</h2>
        <div id="step0" style="display:none">
        <input type="text" />
        </div>
        <h2 onclick="toggleSection('step1')">Step 1: Statistics (<span id="statXPTotal">0</span>)</h2>
            <div id="step1" style="display:none">
        <h3 onclick="toggleSection('statSize')">Size</h3>
        <div id="statSize" style="display:none">
        <select id="sizeList" onchange="szSelect(this.value); cXP()">
            <option id="sz_nuissance" name="NPC_size" value="Nuissance">Nuissance</option>
            <option id="sz_fine" name="NPC_size" value="Fine">Fine</option>
            <option id="sz_diminuitive" name="NPC_size" value="Diminuitive">Diminuitive</option>
            <option id="sz_tiny" name="NPC_size" value="Tiny">Tiny</option>
            <option id="sz_small" name="NPC_size" value="Small">Small</option>
            <option id="sz_medium" name="NPC_size" value="Medium" selected>Medium</option>
            <option id="sz_large" name="NPC_size" value="Large">Large</option>
            <option id="sz_huge" name="NPC_size" value="Huge">Huge</option>
            <option id="sz_gargantuan" name="NPC_size" value="Gargantuan">Gargantuan</option>
            <option id="sz_colossal" name="NPC_size" value="Colossal">Colossal</option>
            <option id="sz_enormous" name="NPC_size" value="Enormous">Enormous</option>
            <option id="sz_vast" name="NPC_size" value="Vast">Vast</option>
        </select>
        <div id="dimensions" style="display:none">
            <p>Footprint (<span id="fp">X x X</span>):<br>
                Width: <input type="number" id="npc_fpw" min="1" max="5" step="1" value="2" onchange="cXP()"> x Length: <input type="number" id="npc_fpl" min="1" max="5" step="1" value="2" onchange="cXP()">
            </p>
        </div>
        </div>
        <h3 onclick="toggleSection('statType')">Type (<span id="typeXP">0</span>)</h3>
        <div id="statType" style="display:none">
        <form id="typeSelected">
            <input type="checkbox" id="ty_animal" name="NPC_type" value=0 onchange="cXP()">
            <label>Animal (+0)</label><br>
            <input type="checkbox" id="ty_beast" name="NPC_type" value=0 onchange="cXP()">
            <label>Beast (+0)</label><br>
            <input type="checkbox" id="ty_construct" name="NPC_type" value=5 onchange="cXP()">
            <label>Construct (+5)</label><br>
            <input type="checkbox" id="ty_elemental" name="NPC_type" value=5 onchange="cXP()">
            <label>Elemental (+5)</label><br>
            <input type="checkbox" id="ty_fey" name="NPC_type" value="0" onchange="cXP()">
            <label>Fey (+0)</label><br>
            <input type="checkbox" id="ty_folk" name="NPC_type" value="0" onchange="cXP()" checked>
            <label>Folk (+0)</label><br>
            <input type="checkbox" id="ty_horror" name="NPC_type" value="5" onchange="cXP()">
            <label>Horror (+5)</label><br>
            <input type="checkbox" id="ty_ooze" name="NPC_type" value="5" onchange="cXP()">
            <label>Ooze (+0)</label><br>
            <input type="checkbox" id="ty_outsider" name="NPC_type" value="0" onchange="cXP()">
            <label>Outsider (+0)</label><br>
            <input type="checkbox" id="ty_plant" name="NPC_type" value="5" onchange="cXP()">
            <label>Plant (+5)</label><br>
            <input type="checkbox" id="ty_spirit" name="NPC_type" value="5" onchange="cXP()">
            <label>Spirit (+5)</label><br>
            <input type="checkbox" id="ty_undead" name="NPC_type" value="5" onchange="cXP()">
            <label>Undead (+0)</label><br>
        </form>
        </div>
        <h3 onclick="toggleSection('statMobility')">Mobility (<span id="mobilityXP">0</span>)</h3>
        <div id="statMobility" style="display:none">
            <form>
                <input type="radio" id="mobile_sel" name="mobility" value="mobile_sel" onclick="mob(this.value); cXP()" checked>
                <label>Mobile (var)</label>
                <input type="radio" id="immobile_sel" name="mobility" value="immobile_sel" onclick="mob(this.value); cXP()">
                <label>Immobile (-5)</label>
            </form>
            <div id="mobile">
            <select name="mobi" id="mobi" onchange="mobSelect(); cXP()">
                <option value="Walker" selected >Walker (+0)</option>
                <option value="Burrower">Burrower (+0)</option>
                <option value="Flyer">Flyer (+0)</option>
                <option value="Swimmer">Swimmer (+0)</option>
            </select>
        
            <div id="walker" style="display:block">
                <p>Walker</p>
                <form>
                    <input type="number" id="walker_spd" name="walker_spd" min="0" max="120" step="10" value="30" onchange="cXP()">
                </form>
            </div>
            
            <div id="burrower" style="display:block">
                <p>Burrower</p>
                <form>
                    <input type="number" id="burrower_spd" min="0" max="120" step="10" value="0" onchange="cXP()">
                </form>
            </div>
           
            <div id="flyer" style="display:block">
                <p>Flyer</p>
                <form>
                    <input type="number" id="flyer_spd" min="0" max="120" step="10" value="0" onchange="cXP()">
                </form>
            </div>
            
            <div id="swimmer" style="display:block">
                <p>Swimmer</p>
                <form>
                    <input type="number" id="swimmer_spd" min="0" max="120" step="10" value="0" onchange="cXP()">
                </form>
            </div>
            </div>
        </form>
        </div>
        <h3 onclick="toggleSection('statAttributes')">Attributes (<span id="attributeXP">0</span>)</h3>
        <div id="statAttributes" style="display:none">
        <form>
            <label for="str">Strength:</label>
            <input type="number" id="npc_str" name="str" min="1" max="50" step="1" value="10" onchange="cXP()"><br>
            <label for="dex">Dexterity:</label>
            <input type="number" id="npc_dex" name="dex" min="1" max="50" step="1" value="10" onchange="cXP()"><br>
            <label for="con">Constitution:</label>
            <input type="number" id="npc_con" name="con" min="1" max="50" step="1" value="10" onchange="cXP()"><br>
            <label for="int">Intelligence:</label>
            <input type="number" id="npc_int" name="int" min="1" max="50" step="1" value="10" onchange="cXP()"><br>
            <label for="wis">Wisdom:</label>
            <input type="number" id="npc_wis" name="wis" min="1" max="50" step="1" value="10" onchange="cXP()"><br>
            <label for="cha">Charisma:</label>
            <input type="number" id="npc_cha" name="cha" min="1" max="50" step="1" value="10" onchange="cXP()">
        </form>
        </div>
        <h3 onclick="toggleSection('statTraits')">Traits (<span id="traitsXP">5</span>)</h3>
        <div id="statTraits" style="display:none">
        <form>            
            <label for="init">Initiative:</label>
            <input type="number" id="npc_init" name="init" min="1" max="10" step="1" value="1" onchange="cXP()"><br>
            <label for="atk">Attack:</label>
            <input type="number" id="npc_atk" name="atk" min="1" max="10" step="1" value="1" onchange="cXP()"><br>
            <label for="def">Defense:</label>
            <input type="number" id="npc_def" name="def" min="1" max="10" step="1" value="1" onchange="cXP()"><br>
            <label for="res">Resilience:</label>
            <input type="number" id="npc_res" name="res" min="1" max="10" step="1" value="1" onchange="cXP()"><br>
            <label for="comp">Competence:</label>
            <input type="number" id="npc_comp" name="comp" min="1" max="10" step="1" value="1" onchange="cXP()"><br>
        </form>
        </div>
        <h3 onclick="toggleSection('statHealth')">Health (<span id="healthXP">0</span>)</h3>
        <div id="statHealth" style="display:none">
        <form>
            <label for="hg">Health Grade:</label>
            <input type="number" id="npc_hg" name="hg" min="1" max="10" step="1" value="1" onchange="cXP()"><br>
        </form>
        </div>
        <h3 onclick="toggleSection('statSigSkills')">Signature Skills (<span id="signatureSkillXP">0</span>)</h3>
        <div id="statSigSkills" style="display:none">
        <form>
            <label for="ss_acr">Acrobatics:</label>
            <input type="number" id="npc_ss_acr" name="ss_acr" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_ath">Athletics:</label>
            <input type="number" id="npc_ss_ath" name="ss_ath" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_ble">Blend:</label>
            <input type="number" id="npc_ss_ble" name="ss_ble" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_blu">Bluff:</label>
            <input type="number" id="npc_ss_blu" name="ss_blu" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_cra">Crafting:</label>
            <input type="number" id="npc_ss_cra" name="ss_cra" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_dis">Disguise:</label>
            <input type="number" id="npc_ss_dis" name="ss_dis" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_hag">Haggle:</label>
            <input type="number" id="npc_ss_hag" name="ss_hag" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_imp">Impress:</label>
            <input type="number" id="npc_ss_imp" name="ss_imp" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_int">Intimidate:</label>
            <input type="number" id="npc_ss_int" name="ss_int" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_inv">Investigate:</label>
            <input type="number" id="npc_ss_inv" name="ss_inv" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_med">Medicine:</label>
            <input type="number" id="npc_ss_med" name="ss_med" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_not">Notice:</label>
            <input type="number" id="npc_ss_not" name="ss_not" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_pre">Prestidigitation:</label>
            <input type="number" id="npc_ss_pre" name="ss_pre" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_res">Resolve:</label>
            <input type="number" id="npc_ss_res" name="ss_res" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_rid">Ride:</label>
            <input type="number" id="npc_ss_rid" name="ss_rid" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_sea">Search:</label>
            <input type="number" id="npc_ss_sea" name="ss_sea" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_sen">Sense Motive:</label>
            <input type="number" id="npc_ss_sen" name="ss_sen" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_sne">Sneak:</label>
            <input type="number" id="npc_ss_sne" name="ss_sne" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_spe">Spellcasting:</label>
            <input type="number" id="npc_ss_spe" name="ss_spe" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_sur">Survival:</label>
            <input type="number" id="npc_ss_sur" name="ss_sur" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
            <label for="ss_tac">Tactics:</label>
            <input type="number" id="npc_ss_tac" name="ss_tac" min="0" max="10" step="1" value="0" onchange="cXP()"><br>
        </form>
        </div>
    </div>
        <h2 onclick="toggleSection('step2')">Step 2: NPC Qualities (<span id="qualitiesXP">0</span>)</h2>
            <div id="step2" style="display:none">
        <form>
            <input type="checkbox" id="npc_qual_ah" name="q_ah" value="2" onclick="cXP()"><label for="q_ah">Achilles Heel (+2)</label><br>
            <input type="checkbox" id="npc_qual_ar" name="q_ar" value="2" onclick="cXP()"><label for="q_ar">Always Ready (+2)</label><br>
            <input type="checkbox" id="npc_qual_aq" name="q_aq" value="0" onclick="cXP()">
                
                    <select onchange="cXP()">
                <option id="npc_qual_aq1" name="q_aq1" value="1" selected>Aquatic I (+1)</option><br>
                <option id="npc_qual_aq2" name="q_aq2" value="3">Aquatic II (+3)</option><br>
            </select><br>
            <input type="checkbox" id="npc_qual_at" name="q_at" value="0" onclick="cXP()">
                
                    <select onchange="cXP()">
                <option id="npc_qual_at1" name="q_at1" value="1">Attractive I (+1)</option><br>
                <option id="npc_qual_at2" name="q_at2" value="2">Attractive II (+2)</option><br>
                <option id="npc_qual_at3" name="q_at3" value="3">Attractive III (+3)</option><br>
                <option id="npc_qual_at4" name="q_at4" value="4">Attractive IV (+4)</option><br>
                <option id="npc_qual_at5" name="q_at5" value="5">Attractive V (+5)</option><br>
                <option id="npc_qual_at6" name="q_at6" value="6">Attractive VI (+6)</option><br>
                <option id="npc_qual_at7" name="q_at7" value="7">Attractive VII (+7)</option><br>
                <option id="npc_qual_at8" name="q_at8" value="8">Attractive VIII (+8)</option><br>
                <option id="npc_qual_at9" name="q_at9" value="9">Attractive IX (+9)</option><br>
                <option id="npc_qual_at10" name="q_at10" value="10">Attractive X (+10)</option><br>
            </select><br>
            <input type="checkbox" id="npc_qual_ba" name="q_at" value="0" onclick="cXP()"><label for="q_ba">Banned Action (+0)</label><br>
            <input type="checkbox" id="npc_qual_bat" name="q_bat" value="2" onclick="cXP()"><label for="q_bat">Battering (+2)</label><br>
            <input type="checkbox" id="npc_qual_be" name="q_be" value="2" onclick="cXP()"><label for="q_be">Beguiling (+2)</label><br>
            <input type="checkbox" id="npc_qual_bl" name="q_bl" value="4" onclick="cXP()"><label for="q_bl">Blindsight (+4)</label><br>
            <input type="checkbox" id="npc_qual_br" name="q_br" value="3" onclick="cXP()"><label for="q_br">Bright (+3)</label><br>
            <input type="checkbox" id="npc_qual_boa" name="q_boa" value="-4" onclick="cXP()"><label for="q_boa">Burden of Ages (-4)</label><br>
            <input type="checkbox" id="npc_qual_ca" name="q_ca" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_ca1" name="q_ca1" value="1">Cagey I (+1)</option><br>
                    <option id="npc_qual_ca2" name="q_ca2" value="2">Cagey II (+2)</option><br>
                    <option id="npc_qual_ca3" name="q_ca3" value="3">Cagey III (+3)</option><br>
                    <option id="npc_qual_ca4" name="q_ca4" value="4">Cagey IV (+4)</option><br>
                    <option id="npc_qual_ca5" name="q_ca5" value="5">Cagey V (+5)</option><br>
                    <option id="npc_qual_ca6" name="q_ca6" value="6">Cagey VI (+6)</option><br>
                    <option id="npc_qual_ca7" name="q_ca7" value="7">Cagey VII (+7)</option><br>
                    <option id="npc_qual_ca8" name="q_ca8" value="8">Cagey VIII (+8)</option><br>
                    <option id="npc_qual_ca9" name="q_ca9" value="9">Cagey IX (+9)</option><br>
                    <option id="npc_qual_ca10" name="q_ca10" value="10">Cagey X (+10)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_ch1" name="q_ch1" value="0" onclick="toggleSection('ch1_list'); cXP()"><label for="q_ch1">Chameleon I (+2/Terrain)</label><br>
            <div id="ch1_list" style="display:none">
            <span id="ch_terrains1">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch1_aq" name="q_ch1_aq" value="2" onclick="cXP()"><label for="q_ch1_aq">Aquatic (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch1_ar" name="q_ch1_ar" value="2" onclick="cXP()"><label for="q_ch1_ar">Arctic (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch1_cm" name="q_ch1_cm" value="2" onclick="cXP()"><label for="q_ch1_cm">Caverns/Mountains (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch1_de" name="q_ch1_de" value="2" onclick="cXP()"><label for="q_ch1_de">Desert (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch1_fj" name="q_ch1_fj" value="2" onclick="cXP()"><label for="q_ch1_fj">Forest/Jungle (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch1_is" name="q_ch1_is" value="2" onclick="cXP()"><label for="q_ch1_is">Indoors/Settled (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch1_pl" name="q_ch1_pl" value="2" onclick="cXP()"><label for="q_ch1_pl">Plains (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch1_sw" name="q_ch1_sw" value="2" onclick="cXP()"><label for="q_ch1_sw">Swamp (+2)</label><br>
            </span>
            </div>
            <input type="checkbox" id="npc_qual_ch2" name="q_ch2" value="0" onclick="toggleSection('ch2_list'); cXP()"><label for="q_ch2">Chameleon II (+4/Terrain)</label><br>
            <div id="ch2_list" style="display:none">
            <span id="ch_terrains2">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch2_aq" name="q_ch2_aq" value="4" onclick="cXP()"><label for="q_ch2_aq">Aquatic (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch2_ar" name="q_ch2_ar" value="4" onclick="cXP()"><label for="q_ch2_ar">Arctic (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch2_cm" name="q_ch2_cm" value="4" onclick="cXP()"><label for="q_ch2_cm">Caverns/Mountains (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch2_de" name="q_ch2_de" value="4" onclick="cXP()"><label for="q_ch2_de">Desert (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch2_fj" name="q_ch2_fj" value="4" onclick="cXP()"><label for="q_ch2_fj">Forest/Jungle (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch2_is" name="q_ch2_is" value="4" onclick="cXP()"><label for="q_ch2_is">Indoors/Settled (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch2_pl" name="q_ch2_pl" value="4" onclick="cXP()"><label for="q_ch2_pl">Plains (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ch2_sw" name="q_ch2_sw" value="4" onclick="cXP()"><label for="q_ch2_sw">Swamp (+4)</label><br>
            </span>
            </div>
            <input type="checkbox" id="npc_qual_chat" name="q_chat" value="2" onclick="cXP()"><label for="q_chat">Charge Attack (+2)</label><br>
            <input type="checkbox" id="npc_qual_clab" name="q_clab" value="0" onclick="toggleSection('clab_list'); cXP()"><label for="q_clab">Class Abilities (varies)</label>
                <div id="clab_list" style="display:none">
            <p>Class Abilities Total XP: <span id="caTotalXP">0</span></p>
            <ul id="p_caList">
            </ul>
            <input type="button" value="Add Class Ability" onclick="addListItem_CA()" />
        </div><br>
            <input type="checkbox" id="npc_qual_cl" name="q_cl" value="-2" onclick="cXP()"><label for="q_cl">Clumsy (-2)</label><br>
            <input type="checkbox" id="npc_qual_cb" name="q_cb" value="-2" onclick="cXP()"><label for="q_cb">Cold-Blooded (-2)</label><br>
            <input type="checkbox" id="npc_qual_ci" name="q_ci" value="0" onclick="toggleSection('ci_list'); cXP()"><label for="q_ci">Condition Immunity (+4/Condition)</label><br>
            <div id="ci_list" style="display:none">
            <span id="ci_conditions">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_baf" name="q_ci_baf" value="4" onclick="cXP()"><label for="q_ci_baf">Baffled (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_ble" name="q_ci_ble" value="4" onclick="cXP()"><label for="q_ci_ble">Bleeding (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_bli" name="q_ci_bli" value="4" onclick="cXP()"><label for="q_ci_bli">Blinded (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_dea" name="q_ci_dea" value="4" onclick="cXP()"><label for="q_ci_dea">Deafened (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_enr" name="q_ci_enr" value="4" onclick="cXP()"><label for="q_ci_enr">Enraged (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_ent" name="q_ci_ent" value="4" onclick="cXP()"><label for="q_ci_ent">Entangled (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_fat" name="q_ci_fat" value="4" onclick="cXP()"><label for="q_ci_fat">Fatigued (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_fix" name="q_ci_fix" value="4" onclick="cXP()"><label for="q_ci_fix">Fixated (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_fla" name="q_ci_fla" value="4" onclick="cXP()"><label for="q_ci_fla">Flanked (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_ffo" name="q_ci_ffo" value="4" onclick="cXP()"><label for="q_ci_ffo">Flat-Footed (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_fri" name="q_ci_fri" value="4" onclick="cXP()"><label for="q_ci_fri">Frightened (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_hel" name="q_ci_hel" value="4" onclick="cXP()"><label for="q_ci_hel">Held (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_hlp" name="q_ci_hlp" value="4" onclick="cXP()"><label for="q_ci_hlp">Helpless (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_hid" name="q_ci_hid" value="4" onclick="cXP()"><label for="q_ci_hid">Hidden (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_inc" name="q_ci_inc" value="4" onclick="cXP()"><label for="q_ci_inc">Incorporeal (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_inv" name="q_ci_inv" value="4" onclick="cXP()"><label for="q_ci_inv">Invisible (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_par" name="q_ci_par" value="4" onclick="cXP()"><label for="q_ci_par">Paralyzed (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_pin" name="q_ci_pin" value="4" onclick="cXP()"><label for="q_ci_pin">Pinned (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_pro" name="q_ci_pro" value="4" onclick="cXP()"><label for="q_ci_pro">Prone (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_sha" name="q_ci_sha" value="4" onclick="cXP()"><label for="q_ci_sha">Shaken (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_sic" name="q_ci_sic" value="4" onclick="cXP()"><label for="q_ci_sic">Sickened (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_slo" name="q_ci_slo" value="4" onclick="cXP()"><label for="q_ci_slo">Slowed (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_spr" name="q_ci_spr" value="4" onclick="cXP()"><label for="q_ci_spr">Sprawled (+4)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_ci_stu" name="q_ci_stu" value="4" onclick="cXP()"><label for="q_ci_stu">Stunned (+4)</label><br>
            </span>
            </div>
            <input type="checkbox" id="npc_qual_conim" name="q_conim" value="4" onclick="cXP()"><label for="q_conim">Contagion Immunity (+4)</label><br>
            <input type="checkbox" id="npc_qual_conv" name="q_conv" value="5" onclick="cXP()"><label for="q_conv">Conversion (+5)</label><br>
            <input type="checkbox" id="npc_qual_crithes" name="q_crithes" value="-2" onclick="cXP()"><label for="q_crithes">Critical Hesitation (-2)</label><br>
            <input type="checkbox" id="npc_qual_critsur" name="q_critsur" value="2" onclick="cXP()"><label for="q_critsur">Critical Surge (+2)</label><br>
            <input type="checkbox" id="npc_qual_damdef" name="q_damdef" value="0" onclick="toggleSection('dd_list'); cXP()"><label for="q_damdef">Damage Defiance (+2/Damage Type)</label><br>
            <div id="dd_list" style="display:none">
            <span id="dd_damageTypes">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_le" name="q_dd_le" value="2" onclick="cXP()"><label for="q_dd_le">Lethal (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_ac" name="q_dd_ac" value="2" onclick="cXP()"><label for="q_dd_ac">Acid (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_ba" name="q_dd_ba" value="2" onclick="cXP()"><label for="q_dd_ba">Bang (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_co" name="q_dd_co" value="2" onclick="cXP()"><label for="q_dd_co">Cold (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_di" name="q_dd_di" value="2" onclick="cXP()"><label for="q_dd_di">Divine (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_el" name="q_dd_el" value="2" onclick="cXP()"><label for="q_dd_el">Electrical (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_ex" name="q_dd_ex" value="2" onclick="cXP()"><label for="q_dd_ex">Explosive (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_fi" name="q_dd_fi" value="2" onclick="cXP()"><label for="q_dd_fi">Fire (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_fl" name="q_dd_fl" value="2" onclick="cXP()"><label for="q_dd_fl">Flash (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_fo" name="q_dd_fo" value="2" onclick="cXP()"><label for="q_dd_fo">Force (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_he" name="q_dd_he" value="2" onclick="cXP()"><label for="q_dd_he">Heat (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_sa" name="q_dd_sa" value="2" onclick="cXP()"><label for="q_dd_sa">Sneak Attack (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_so" name="q_dd_so" value="2" onclick="cXP()"><label for="q_dd_so">Sonic (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_st" name="q_dd_st" value="2" onclick="cXP()"><label for="q_dd_st">Stress (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_dd_su" name="q_dd_su" value="2" onclick="cXP()"><label for="q_dd_su">Subdual (+2)</label><br>                
            </span>
            </div>
            <input type="checkbox" id="npc_qual_damim" name="q_damim" value="0" onclick="toggleSection('di_list'); cXP()"><label for="q_damim">Damage Immunity (+5/Damage Type)</label><br>
            <div id="di_list" style="display:none">
            <span id="di_damageTypes">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_le" name="q_di_le" value="5" onclick="cXP()"><label for="q_di_le">Lethal (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_ac" name="q_di_ac" value="5" onclick="cXP()"><label for="q_di_ac">Acid (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_ba" name="q_di_ba" value="5" onclick="cXP()"><label for="q_di_ba">Bang (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_co" name="q_di_co" value="5" onclick="cXP()"><label for="q_di_co">Cold (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_di" name="q_di_di" value="5" onclick="cXP()"><label for="q_di_di">Divine (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_el" name="q_di_el" value="5" onclick="cXP()"><label for="q_di_el">Electrical (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_ex" name="q_di_ex" value="5" onclick="cXP()"><label for="q_di_ex">Explosive (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_fi" name="q_di_fi" value="5" onclick="cXP()"><label for="q_di_fi">Fire (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_fl" name="q_di_fl" value="5" onclick="cXP()"><label for="q_di_fl">Flash (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_fo" name="q_di_fo" value="5" onclick="cXP()"><label for="q_di_fo">Force (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_he" name="q_di_he" value="5" onclick="cXP()"><label for="q_di_he">Heat (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_sa" name="q_di_sa" value="5" onclick="cXP()"><label for="q_di_sa">Sneak Attack (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_so" name="q_di_so" value="5" onclick="cXP()"><label for="q_di_so">Sonic (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_st" name="q_di_st" value="5" onclick="cXP()"><label for="q_di_st">Stress (+5)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_di_su" name="q_di_su" value="5" onclick="cXP()"><label for="q_di_su">Subdual (+5)</label><br>                
            </span>
            </div>
            <input type="checkbox" id="npc_qual_dv" name="q_dv" value="0" onclick="cXP()">
                
                    <select onchange="cXP()">
                <option id="npc_qual_dv1" name="q_dv1" value="1" selected>Darkvision I (+1)</option><br>
                <option id="npc_qual_dv2" name="q_dv2" value="3">Darkvision II (+3)</option><br>
            </select><br>
            <input type="checkbox" id="npc_qual_dt" name="q_dt" value="0" onclick="cXP()">
                
                    <select onchange="cXP()">
                        <option id="npc_qual_dt_le" name="q_dt_le" value="5" onclick="cXP()" selected>Death Throes - Lethal (+5)</option><br>
                        <option id="npc_qual_dt_ac" name="q_dt_ac" value="7" onclick="cXP()">Death Throes - Acid (+7)</option><br>
                        <option id="npc_qual_dt_ba" name="q_dt_ba" value="7" onclick="cXP()">Death Throes - Bang (+7)</option><br>
                        <option id="npc_qual_dt_co" name="q_dt_co" value="7" onclick="cXP()">Death Throes - Cold (+7)</option><br>
                        <option id="npc_qual_dt_di" name="q_dt_di" value="7" onclick="cXP()">Death Throes - Divine (+7)</option><br>
                        <option id="npc_qual_dt_el" name="q_dt_el" value="7" onclick="cXP()">Death Throes - Electrical (+7)</option><br>
                        <option id="npc_qual_dt_ex" name="q_dt_ex" value="7" onclick="cXP()">Death Throes - Explosive (+7)</option><br>
                        <option id="npc_qual_dt_fi" name="q_dt_fi" value="7" onclick="cXP()">Death Throes - Fire (+7)</option><br>
                        <option id="npc_qual_dt_fl" name="q_dt_fl" value="7" onclick="cXP()">Death Throes - Flash (+7)</option><br>
                        <option id="npc_qual_dt_fo" name="q_dt_fo" value="7" onclick="cXP()">Death Throes - Force (+7)</option><br>
                        <option id="npc_qual_dt_he" name="q_dt_he" value="7" onclick="cXP()">Death Throes - Heat (+7)</option><br>
                        <option id="npc_qual_dt_sa" name="q_dt_sa" value="7" onclick="cXP()">Death Throes - Sneak Attack (+7)</option><br>
                        <option id="npc_qual_dt_so" name="q_dt_so" value="7" onclick="cXP()">Death Throes - Sonic (+7)</option><br>
                        <option id="npc_qual_dt_st" name="q_dt_st" value="7" onclick="cXP()">Death Throes - Stress (+7)</option><br>
                        <option id="npc_qual_dt_su" name="q_dt_su" value="7" onclick="cXP()">Death Throes - Subdual (+7)</option><br>              
                
                    </select><br>
            <input type="checkbox" id="npc_qual_dev" name="q_dev" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_dev1" name="q_dev1" value="2">Devoted I (+2)</option><br>
                    <option id="npc_qual_dev2" name="q_dev2" value="4">Devoted II (+4)</option><br>
                    <option id="npc_qual_dev3" name="q_dev3" value="6">Devoted III (+6)</option><br>
                    <option id="npc_qual_dev4" name="q_dev4" value="8">Devoted IV (+8)</option><br>
                    <option id="npc_qual_dev5" name="q_dev5" value="10">Devoted V (+10)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_dvr" name="q_dvr" value="3" onclick="cXP()"><label for="q_dvr">Devour (+3)</label><br>
            <input type="checkbox" id="npc_qual_diu" name="q_diu" value="-1" onclick="cXP()"><label for="q_diu">Diurnal (-1)</label><br>
            <input type="checkbox" id="npc_qual_dra" name="q_dra" value="8" onclick="cXP()"><label for="q_dra">Dramatic Entrance (+8)</label><br>
            <input type="checkbox" id="npc_qual_dre" name="q_dre" value="2" onclick="cXP()"><label for="q_dre">Dread (+2)</label><br>
            <input type="checkbox" id="npc_qual_evr" name="q_evr" value="0" onclick="cXP()"><label for="q_evr">Everlasting (+0)</label><br>
            <input type="checkbox" id="npc_qual_esb" name="q_esb" value="0" onclick="toggleSection('s_list'); cXP()"><label for="q_esb">Expanded Spellbook (+1/spell)</label>            
            <div id="s_list" style="display:none">
                <p>Number of spells: <span id="spellNum">0</span></p>
                <input type="button" value="Add Spell" onclick="addListItem_Spell(); cXP()" />
                <ul id="p_spellList">
                </ul>
                
            </div><br>
            <input type="checkbox" id="npc_qual_exp" name="q_exp" value="0" onclick="toggleSection('exp_list'); cXP()"><label for="q_exp">Expertise (+2/Skill)</label><br>
            <div id="exp_list" style="display:none">
            <span id="exp_skills">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_acr" name="q_exp_acr" value="2" onclick="cXP()"><label for="q_exp_ath">Acrobatics (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_ath" name="q_exp_ath" value="2" onclick="cXP()"><label for="q_exp_ath">Athletics (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_ble" name="q_exp_ble" value="2" onclick="cXP()"><label for="q_exp_ble">Blend (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_blu" name="q_exp_blu" value="2" onclick="cXP()"><label for="q_exp_blu">Bluff (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_cra" name="q_exp_cra" value="2" onclick="cXP()"><label for="q_exp_cra">Craft (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_dis" name="q_exp_dis" value="2" onclick="cXP()"><label for="q_exp_dis">Disguise (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_hag" name="q_exp_hag" value="2" onclick="cXP()"><label for="q_exp_hag">Haggle (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_imp" name="q_exp_imp" value="2" onclick="cXP()"><label for="q_exp_imp">Impress (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_int" name="q_exp_int" value="2" onclick="cXP()"><label for="q_exp_int">Intimidate (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_inv" name="q_exp_inv" value="2" onclick="cXP()"><label for="q_exp_inv">Investigate (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_med" name="q_exp_med" value="2" onclick="cXP()"><label for="q_exp_med">Medicine (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_not" name="q_exp_not" value="2" onclick="cXP()"><label for="q_exp_not">Notice (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_pre" name="q_exp_pre" value="2" onclick="cXP()"><label for="q_exp_pre">Prestidigitation (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_res" name="q_exp_res" value="2" onclick="cXP()"><label for="q_exp_res">Resolve (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_rid" name="q_exp_rid" value="2" onclick="cXP()"><label for="q_exp_rid">Ride (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_sea" name="q_exp_sea" value="2" onclick="cXP()"><label for="q_exp_sea">Search (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_sen" name="q_exp_sen" value="2" onclick="cXP()"><label for="q_exp_sen">Sense Motive (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_sne" name="q_exp_sne" value="2" onclick="cXP()"><label for="q_exp_sne">Sneak (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_spe" name="q_exp_spe" value="2" onclick="cXP()"><label for="q_exp_spe">Spellcasting (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_sur" name="q_exp_sur" value="2" onclick="cXP()"><label for="q_exp_sur">Survival (+2)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_exp_tac" name="q_exp_tac" value="2" onclick="cXP()"><label for="q_exp_tac">Tactics (+2)</label><br>
            </span>
            </div>
            <input type="checkbox" id="npc_qual_fh" name="q_fh" value="1" onclick="cXP()"><label for="q_fh">Fast Healing (+1)</label><br>
            <input type="checkbox" id="npc_qual_ff" name="q_ffl" value="-1" onclick="cXP()"><label for="q_ffl">Fatal Falls (-1)</label><br>
            <input type="checkbox" id="npc_qual_faf" name="q_faf" value="0" onclick="toggleSection('foe_list'); cXP()"><label for="q_exp">Favored Foes (+1/Type)</label><br>
            <div id="foe_list" style="display:none">
            <span id="foe_types">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_an" name="q_faf_an" value="1" onclick="cXP()"><label for="q_faf_an">Animal (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_be" name="q_faf_be" value="1" onclick="cXP()"><label for="q_faf_be">Beast (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_co" name="q_faf_co" value="1" onclick="cXP()"><label for="q_faf_co">Construct (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_el" name="q_faf_el" value="1" onclick="cXP()"><label for="q_faf_el">Elemental (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_fe" name="q_faf_fe" value="1" onclick="cXP()"><label for="q_faf_fe">Fey (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_fo" name="q_faf_fo" value="1" onclick="cXP()" selected><label for="q_faf_fo">Folk (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_ho" name="q_faf_ho" value="1" onclick="cXP()"><label for="q_faf_ho">Horror (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_oo" name="q_faf_oo" value="1" onclick="cXP()"><label for="q_faf_oo">Ooze (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_ou" name="q_faf_ou" value="1" onclick="cXP()"><label for="q_faf_ou">Outsider (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_pl" name="q_faf_pl" value="1" onclick="cXP()"><label for="q_faf_pl">Plant (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_sp" name="q_faf_sp" value="1" onclick="cXP()"><label for="q_faf_sp">Spirit (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_faf_un" name="q_faf_un" value="1" onclick="cXP()"><label for="q_faf_un">Undead (+1)</label><br>
            </span>
            </div>
            <input type="checkbox" id="npc_qual_fl" name="q_fl" value="0" onclick="cXP()">
                
                    <select onchange="cXP()">
                <option id="npc_qual_fl1" name="q_fl1" value="2" selected>Fearless I (+2)</option><br>
                <option id="npc_qual_fl2" name="q_fl2" value="4">Fearless II (+4)</option><br>
            </select><br>
            <input type="checkbox" id="npc_qual_feat" name="q_feat" value="2" onclick="toggleSection('f_list'); cXP()"><label for="q_feat">Feats (+2/feat)</label>            
            <div id="f_list" style="display:none">
                <p>Number of feats: <span id="featNum">0</span></p>
                <input type="button" value="Add Feat" onclick="addListItem_Feat(); cXP()" />
                <ul id="p_featList">
                </ul>
                
            </div><br>
            <input type="checkbox" id="npc_qual_fera" name="q_fera" value="1" onclick="cXP()"><label for="q_fera">Feral (+1)</label><br>
            <input type="checkbox" id="npc_qual_fero" name="q_fero" value="3" onclick="cXP()"><label for="q_fero">Ferocity (+3)</label><br>
            <input type="checkbox" id="npc_qual_fz" name="q_fz" value="0" onclick="cXP()">
                
                    <select onchange="cXP()">
                <option id="npc_qual_fz1" name="q_fz1" value="4" selected>Frenzy I (+4)</option><br>
                <option id="npc_qual_fz2" name="q_fz2" value="8">Frenzy II (+8)</option><br>
                <option id="npc_qual_fz3" name="q_fz3" value="12">Frenzy III (+12)</option><br>
            </select><br>
            <input type="checkbox" id="npc_qual_grap" name="q_grap" value="2" onclick="cXP()"><label for="q_grap">Grappler (+2)</label><br>
            <input type="checkbox" id="npc_qual_gru" name="q_gru" value="2" onclick="cXP()"><label for="q_gru">Grueling Combatant (+2)</label><br>
            <input type="checkbox" id="npc_qual_hm" name="q_hm" value="2" onclick="cXP()"><label for="q_hm">Hive Mind (+2)</label><br>
            <input type="checkbox" id="npc_qual_ho" name="q_ho" value="2" onclick="cXP()"><label for="q_ho">Honorable (+3)</label><br>
            <input type="checkbox" id="npc_qual_is" name="q_is" value="0" onclick="toggleSection('imi_list'); cXP()"><label for="q_exp">Impaired Sense (-1/Sense)</label><br>
            <div id="imi_list" style="display:none">
            <span id="impaired_senses">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_is_vi" name="q_is_vi" value="-1" onclick="cXP()"><label for="q_is_vi">Visual (-1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_is_he" name="q_is_he" value="-1" onclick="cXP()"><label for="q_is_he">Hearing (-1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_is_sc" name="q_is_sc" value="-1" onclick="cXP()"><label for="q_is_sc">Scent (-1)</label><br>
            </span>
            </div>
            <input type="checkbox" id="npc_qual_icc" name="q_icc" value="0" onclick="cXP()"><label for="q_icc">Improved Carrying Capacity (+0)</label><br>
            <input type="checkbox" id="npc_qual_irs" name="q_irs" value="0" onclick="toggleSection('imv_list'); cXP()"><label for="q_irs">Improved Sense (+1/Sense)</label><br>
            <div id="imv_list" style="display:none">
            <span id="improved_senses">
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_irs_vi" name="q_irs_vi" value="1" onclick="cXP()"><label for="q_irs_vi">Visual (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_irs_he" name="q_irs_he" value="1" onclick="cXP()"><label for="q_irs_he">Hearing (+1)</label><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" id="npc_qual_irs_sc" name="q_irs_sc" value="1" onclick="cXP()"><label for="q_irs_sc">Scent (+1)</label><br>
            </span>
            </div>
            <input type="checkbox" id="npc_qual_imp_stab" name="q_imp_stab" value="2" onclick="cXP()"><label for="q_imp_stab">Improved Stability (+2)</label><br>
            <input type="checkbox" id="npc_qual_int" name="q_int" value="0" onclick="cXP()"><label for="q_int">Interests (+0)</label><br>
            <input type="checkbox" id="npc_qual_inv" name="q_inv" value="8" onclick="cXP()"><label for="q_inv">Invisibility (+8)</label><br>
            <input type="checkbox" id="npc_qual_kb" name="q_kb" value="2" onclick="cXP()"><label for="q_kb">Knockback (+2)</label><br>
            <input type="checkbox" id="npc_qual_lse" name="q_lse" value="-2" onclick="cXP()"><label for="q_lse">Light-Sensitive (-2)</label><br>
            <input type="checkbox" id="npc_qual_lsl" name="q_lsl" value="1" onclick="cXP()"><label for="q_lsl">Light Sleeper (+1)</label><br>
            <input type="checkbox" id="npc_qual_lum" name="q_lum" value="-2" onclick="cXP()"><label for="q_lum">Lumbering (-2)</label><br>
            <input type="checkbox" id="npc_qual_me" name="q_me" value="-2" onclick="cXP()"><label for="q_me">Meek (-2)</label><br>
            <input type="checkbox" id="npc_qual_men" name="q_men" value="2" onclick="cXP()"><label for="q_men">Menacing Threat (+2)</label><br>
            <input type="checkbox" id="npc_qual_moo" name="q_moo" value="-4" onclick="cXP()"><label for="q_moo">Mook (-4)</label><br>
            <input type="checkbox" id="npc_qual_ma" name="q_ma" value="0" onclick="cXP()">
            <select onchange="cXP()">                
                <option id="npc_qual_ma1" name="q_ma1" value="3">Monstrous Attack I (+3)</option><br>
                <option id="npc_qual_ma2" name="q_ma2" value="6">Monstrous Attack II (+6)</option><br>
                <option id="npc_qual_ma3" name="q_ma3" value="9">Monstrous Attack III (+9)</option><br>
                <option id="npc_qual_ma4" name="q_ma4" value="12">Monstrous Attack IV (+12)</option><br>
                <option id="npc_qual_ma5" name="q_ma5" value="15">Monstrous Attack V (+15)</option><br>
            </select><br>
            <input type="checkbox" id="npc_qual_nd" name="q_nd" value="0" onclick="cXP()">                
                <select onchange="cXP()">
                    <option id="npc_qual_nd_le" name="q_nd_le" value="5" onclick="cXP()" selected>Natural Defense - Lethal (+5)</option><br>
                    <option id="npc_qual_nd_ac" name="q_nd_ac" value="7" onclick="cXP()">Natural Defense - Acid (+7)</option><br>
                    <option id="npc_qual_nd_ba" name="q_nd_ba" value="7" onclick="cXP()">Natural Defense - Bang (+7)</option><br>
                    <option id="npc_qual_nd_co" name="q_nd_co" value="7" onclick="cXP()">Natural Defense - Cold (+7)</option><br>
                    <option id="npc_qual_nd_di" name="q_nd_di" value="7" onclick="cXP()">Natural Defense - Divine (+7)</option><br>
                    <option id="npc_qual_nd_el" name="q_nd_el" value="7" onclick="cXP()">Natural Defense - Electrical (+7)</option><br>
                    <option id="npc_qual_nd_ex" name="q_nd_ex" value="7" onclick="cXP()">Natural Defense - Explosive (+7)</option><br>
                    <option id="npc_qual_nd_fi" name="q_nd_fi" value="7" onclick="cXP()">Natural Defense - Fire (+7)</option><br>
                    <option id="npc_qual_nd_fl" name="q_nd_fl" value="7" onclick="cXP()">Natural Defense - Flash (+7)</option><br>
                    <option id="npc_qual_nd_fo" name="q_nd_fo" value="7" onclick="cXP()">Natural Defense - Force (+7)</option><br>
                    <option id="npc_qual_nd_he" name="q_nd_he" value="7" onclick="cXP()">Natural Defense - Heat (+7)</option><br>
                    <option id="npc_qual_nd_sa" name="q_nd_sa" value="7" onclick="cXP()">Natural Defense - Sneak Attack (+7)</option><br>
                    <option id="npc_qual_nd_so" name="q_nd_so" value="7" onclick="cXP()">Natural Defense - Sonic (+7)</option><br>
                    <option id="npc_qual_nd_st" name="q_nd_st" value="7" onclick="cXP()">Natural Defense - Stress (+7)</option><br>
                    <option id="npc_qual_nd_su" name="q_nd_su" value="7" onclick="cXP()">Natural Defense - Subdual (+7)</option><br>           
                </select><br>
                <input type="checkbox" id="npc_qual_ns" name="q_ns" value="0" onclick="toggleSection('ns_list'); cXP()"><label for="q_ns">Natural Spells (+1/spell level)</label>            
                <div id="ns_list" style="display:none">
            <p>Natural Spell Levels Total: <span id="nsTotalLevels">0</span></p>
            <ul id="p_nsList">
            </ul>
            <input type="button" value="Add Natural Spell" onclick="addListItem_NS()" />
        </div><br>
            <input type="checkbox" id="npc_qual_no" name="q_no" value="2" onclick="cXP()"><label for="q_no">Never Outnumbered (+2)</label><br>
            <input type="checkbox" id="npc_qual_nb" name="q_nb" value="0" onclick="cXP()"><label for="q_nb">Night-Blind (+0)</label><br>
            <input type="checkbox" id="npc_qual_noc" name="q_noc" value="-1" onclick="cXP()"><label for="q_noc">Nocturnal (-1)</label><br>
            <input type="checkbox" id="npc_qual_re" name="q_re" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_re1" name="q_re1" value="3">Regeneration I (+3)</option><br>
                    <option id="npc_qual_re2" name="q_re2" value="6">Regeneration II (+6)</option><br>
                    <option id="npc_qual_re3" name="q_re3" value="9">Regeneration III (+9)</option><br>
                    <option id="npc_qual_re4" name="q_re4" value="12">Regeneration IV (+12)</option><br>
                    <option id="npc_qual_re5" name="q_re5" value="15">Regeneration V (+15)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_rend" name="q_rend" value="3" onclick="cXP()"><label for="q_rend">Rend (+3)</label><br>
            <input type="checkbox" id="npc_qual_rep" name="q_rep" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_rep1" name="q_rep1" value="-1">Repulsive I (-1)</option><br>
                    <option id="npc_qual_rep2" name="q_rep2" value="-2">Repulsive II (-2)</option><br>
                    <option id="npc_qual_rep3" name="q_rep3" value="-3">Repulsive III (-3)</option><br>
                    <option id="npc_qual_rep4" name="q_rep4" value="-4">Repulsive IV (-4)</option><br>
                    <option id="npc_qual_rep5" name="q_rep5" value="-5">Repulsive V (-5)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_sha" name="q_sha" value="-4" onclick="cXP()"><label for="q_sha">Shambling (-4)</label><br>
            <input type="checkbox" id="npc_qual_shsh" name="q_shsh" value="0" onclick="cXP()">
                <select onchange="cXP()">
                    <option id="npc_qual_shsh1" name="q_shsh1" value="4" selected>Shapeshifter I (+4)</option><br>
                    <option id="npc_qual_shsh2" name="q_shsh2" value="8">Shapeshifter II (+8)</option><br>
                    <option id="npc_qual_shsh3" name="q_shsh3" value="12">Shapeshifter III (+12)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_sd" name="q_sd" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_sd1" name="q_sd1" value="2">Spell Defense I (+2)</option><br>
                    <option id="npc_qual_sd2" name="q_sd2" value="4">Spell Defense II (+4)</option><br>
                    <option id="npc_qual_sd3" name="q_sd3" value="6">Spell Defense III (+6)</option><br>
                    <option id="npc_qual_sd4" name="q_sd4" value="8">Spell Defense IV (+8)</option><br>
                    <option id="npc_qual_sd5" name="q_sd5" value="10">Spell Defense V (+10)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_sr" name="q_sr" value="3" onclick="cXP()"><label for="q_sr">Spell Reflection (+3)</label><br>
            <input type="checkbox" id="npc_qual_spl" name="q_spl" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_splds" name="q_splds" value="0">Damage Splitter (+0)</option><br>
                    <option id="npc_qual_spldsi" name="q_spldsi" value="5">Instant Damage Splitter (+5)</option><br>
                    <option id="npc_qual_splks" name="q_splks" value="0">Kill Splitter (+0)</option><br>
                    <option id="npc_qual_splksi" name="q_splksi" value="5">Instant Kill Splitter (+5)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_st" name="q_st" value="2" onclick="cXP()"><label for="q_st">Stench (+2)</label><br>
            <input type="checkbox" id="npc_qual_stern" name="q_stern" value="1" onclick="cXP()"><label for="q_stern">Sterner Stuff (+1)</label><br>
            <input type="checkbox" id="npc_qual_sc" name="q_sc" value="0" onclick="cXP()"><label for="q_sc">Story-Critical (+0)</label><br>
            <input type="checkbox" id="npc_qual_sucl" name="q_sucl" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_sucl1" name="q_sucl1" value="1">Superior Climber I (+1)</option><br>
                    <option id="npc_qual_sucl2" name="q_sucl2" value="2">Superior Climber II (+2)</option><br>
                    <option id="npc_qual_sucl3" name="q_sucl3" value="3">Superior Climber III (+3)</option><br>
                    <option id="npc_qual_sucl4" name="q_sucl4" value="4">Superior Climber IV (+4)</option><br>
                    <option id="npc_qual_sucl5" name="q_sucl5" value="5">Superior Climber V (+5)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_suju" name="q_suju" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_suju1" name="q_suju1" value="1">Superior Jumper I (+1)</option><br>
                    <option id="npc_qual_suju2" name="q_suju2" value="2">Superior Jumper II (+2)</option><br>
                    <option id="npc_qual_suju3" name="q_suju3" value="3">Superior Jumper III (+3)</option><br>
                    <option id="npc_qual_suju4" name="q_suju4" value="4">Superior Jumper IV (+4)</option><br>
                    <option id="npc_qual_suju5" name="q_suju5" value="5">Superior Jumper V (+5)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_suru" name="q_suru" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_suru1" name="q_suru1" value="1">Superior Runner I (+1)</option><br>
                    <option id="npc_qual_suru2" name="q_suru2" value="2">Superior Runner II (+2)</option><br>
                    <option id="npc_qual_suru3" name="q_suru3" value="3">Superior Runner III (+3)</option><br>
                    <option id="npc_qual_suru4" name="q_suru4" value="4">Superior Runner IV (+4)</option><br>
                    <option id="npc_qual_suru5" name="q_suru5" value="5">Superior Runner V (+5)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_susw" name="q_susw" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_susw1" name="q_susw1" value="1">Superior Swimmer I (+1)</option><br>
                    <option id="npc_qual_susw2" name="q_susw2" value="2">Superior Swimmer II (+2)</option><br>
                    <option id="npc_qual_susw3" name="q_susw3" value="3">Superior Swimmer III (+3)</option><br>
                    <option id="npc_qual_susw4" name="q_susw4" value="4">Superior Swimmer IV (+4)</option><br>
                    <option id="npc_qual_susw5" name="q_susw5" value="5">Superior Swimmer V (+5)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_sutr" name="q_sutr" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_sutr1" name="q_sutr1" value="1">Superior Traveler I (+1)</option><br>
                    <option id="npc_qual_sutr2" name="q_sutr2" value="2">Superior Traveler II (+2)</option><br>
                    <option id="npc_qual_sutr3" name="q_sutr3" value="3">Superior Traveler III (+3)</option><br>
                    <option id="npc_qual_sutr4" name="q_sutr4" value="4">Superior Traveler IV (+4)</option><br>
                    <option id="npc_qual_sutr5" name="q_sutr5" value="5">Superior Traveler V (+5)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_swarm" name="q_swarm" value="2" onclick="cXP()"><label for="q_swarm">Swarm (+2)</label><br>
            <input type="checkbox" id="npc_qual_swat" name="q_swat" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_swat1" name="q_swat1" value="3">Swift Attack - 1 extra attack (+3)</option><br>
                    <option id="npc_qual_swat2" name="q_swat2" value="6">Swift Attack - 2 extra attacks (+6)</option><br>
                    <option id="npc_qual_swat3" name="q_swat3" value="9">Swift Attack - 3 extra attacks (+9)</option><br>
                    <option id="npc_qual_swat4" name="q_swat4" value="12">Swift Attack - 4 extra attacks (+12)</option><br>
                    <option id="npc_qual_swat5" name="q_swat5" value="15">Swift Attack - 5 extra attacks (+15)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_tel" name="q_tel" value="1" onclick="cXP()"><label for="q_tel">Telepathic (+1)</label><br>
            <input type="checkbox" id="npc_qual_tou" name="q_tou" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_tou1" name="q_tou1" value="5">Tough I (+5)</option><br>
                    <option id="npc_qual_tou2" name="q_tou2" value="10">Tough II (+10)</option><br>
                    <option id="npc_qual_tou3" name="q_tou3" value="15">Tough III (+15)</option><br>
                    <option id="npc_qual_tou4" name="q_tou4" value="20">Tough IV (+20)</option><br>
                    <option id="npc_qual_tou5" name="q_tou5" value="25">Tough V (+25)</option><br>
                </select><br>
            <input type="checkbox" id="npc_qual_trec" name="q_trec" value="5" onclick="cXP()"><label for="q_trec">Treacherous (+5)</label><br>
            <input type="checkbox" id="npc_qual_tric" name="q_tric" value="2" onclick="cXP()"><label for="q_tric">Tricksy (+2)/trick</label><br>
            <input type="checkbox" id="npc_qual_turn" name="q_turn" value="4" onclick="cXP()"><label for="q_tric">Turn </label>
            <select id="turn_options" onchange="cXP()">
                <option id="npc_qual_turn_an" name="q_turn_an" value="4" onclick="cXP()"><label for="q_turn_an">Animal (+4)</label><br>
                <option id="npc_qual_turn_be" name="q_turn_be" value="4" onclick="cXP()"><label for="q_turn_be">Beast (+4)</label><br>
                <option id="npc_qual_turn_co" name="q_turn_co" value="4" onclick="cXP()"><label for="q_turn_co">Construct (+4)</label><br>
                <option id="npc_qual_turn_el" name="q_turn_el" value="4" onclick="cXP()"><label for="q_turn_el">Elemental (+4)</label><br>
                <option id="npc_qual_turn_fe" name="q_turn_fe" value="4" onclick="cXP()"><label for="q_turn_fe">Fey (+4)</label><br>
                <option id="npc_qual_turn_fo" name="q_turn_fo" value="4" onclick="cXP()"><label for="q_turn_fo">Folk (+4)</label><br>
                <option id="npc_qual_turn_ho" name="q_turn_ho" value="4" onclick="cXP()"><label for="q_turn_ho">Horror (+4)</label><br>
                <option id="npc_qual_turn_oo" name="q_turn_oo" value="4" onclick="cXP()"><label for="q_turn_oo">Ooze (+4)</label><br>
                <option id="npc_qual_turn_ou" name="q_turn_ou" value="4" onclick="cXP()"><label for="q_turn_ou">Outsider (+4)</label><br>
                <option id="npc_qual_turn_pl" name="q_turn_pl" value="4" onclick="cXP()"><label for="q_turn_pl">Plant (+4)</label><br>
                <option id="npc_qual_turn_sp" name="q_turn_sp" value="4" onclick="cXP()"><label for="q_turn_sp">Spirit (+4)</label><br>
                <option id="npc_qual_turn_un" name="q_turn_un" value="4" onclick="cXP()" selected><label for="q_turn_un">Undead (+4)</label><br>
            </select><br >
            <input type="checkbox" id="npc_qual_ti" name="q_ti" value="2" onclick="cXP()"><label for="q_ti">Turn Immunity (+2)</label><br>
            <input type="checkbox" id="npc_qual_usp" name="q_usp" value="5" onclick="cXP()"><label for="q_usp">Unlimited Spell Points (+5)</label><br>
            <input type="checkbox" id="npc_qual_unn" name="q_unn" value="2" onclick="cXP()"><label for="q_unn">Unnerving (+2)</label><br>
            <input type="checkbox" id="npc_qual_vet" name="q_vet" value="0" onclick="cXP()">
                <select onchange="cXP()">                
                    <option id="npc_qual_vet1" name="q_vet1" value="2">Veteran I (+2)</option><br>
                    <option id="npc_qual_vet2" name="q_vet2" value="4">Veteran II (+4)</option><br>
                    <option id="npc_qual_vet3" name="q_vet3" value="6">Veteran III (+6)</option><br>
                    <option id="npc_qual_vet4" name="q_vet4" value="8">Veteran IV (+8)</option><br>
                    <option id="npc_qual_vet5" name="q_vet5" value="10">Veteran V (+10)</option><br>
                </select>

        </form>
            </div>
        <h2 onclick="toggleSection('step3')">Step 3: Attacks (<span id="attackXPTotal">0</span>)</h2>
            <div id="step3" style="display:none">
                <h3>Weapons</h3>

                <h3 onclick="toggleSection('na_list'); cXP()">Natural Attacks (<span id="naTotalXP">0</span>)</h3>
                <div id="na_list" style="display:none">
                    <ul id="p_naList">
                    </ul>
                    <input type="button" value="Add Natural Attack" onclick="addListItem_NA()" />
                </div>

                <h3 onclick="toggleSection('ea_list'); cXP()">Extraordinary Attacks (<span id="eaTotalXP">0</span>)</h3>
                <div id="ea_list" style="display:none">
                    <ul id="p_eaList">
                    </ul>
                    <input type="button" value="Add Extraordinary Attack" onclick="addListItem_EA()" />
                </div>
            </div>
        <h2 onclick="toggleSection('step4')">Step 4: Gear and Treasure (<span id="gearXPTotal">0</span>)</h2>
            <div id="step4" style="display:none">
            </div>
        </div>

        <!--Below is the HTML for the "Play" section of the dashboard. It includes the threat level selector and all of the stats used in play. Aside from the threat level, it isn't intended to be edited.-->
        <div id="playSection" style="display:none">
            <h2 id="p_name">NPC Name</h2>
            <p>(<span id="p_size">Large</span> <span id="p_type">Construct</span> <span id="p_mobility">Walker</span> - <span id="p_XPTotal">78</span>)</p>

            <form>
                <select id="p_threat_level" onchange="translateNPCTraitsTables(), updatePlay()">
                    <option id="tl01" name="tl01" value="1" selected>Threat Level 01</option>
                    <option id="tl02" name="tl02" value="2">Threat Level 02</option>
                    <option id="tl03" name="tl03" value="3">Threat Level 03</option>
                    <option id="tl04" name="tl04" value="4">Threat Level 04</option>
                    <option id="tl05" name="tl05" value="5">Threat Level 05</option>
                    <option id="tl06" name="tl06" value="6">Threat Level 06</option>
                    <option id="tl07" name="tl07" value="7">Threat Level 07</option>
                    <option id="tl08" name="tl08" value="8">Threat Level 08</option>
                    <option id="tl09" name="tl09" value="9">Threat Level 09</option>
                    <option id="tl10" name="tl10" value="10">Threat Level 10</option>
                    <option id="tl11" name="tl11" value="11">Threat Level 11</option>
                    <option id="tl12" name="tl12" value="12">Threat Level 12</option>
                    <option id="tl13" name="tl13" value="13">Threat Level 13</option>
                    <option id="tl14" name="tl14" value="14">Threat Level 14</option>
                    <option id="tl15" name="tl15" value="15">Threat Level 15</option>
                    <option id="tl16" name="tl16" value="16">Threat Level 16</option>
                    <option id="tl17" name="tl17" value="17">Threat Level 17</option>
                    <option id="tl18" name="tl18" value="18">Threat Level 18</option>
                    <option id="tl19" name="tl19" value="19">Threat Level 19</option>
                    <option id="tl20" name="tl20" value="20">Threat Level 20</option>
                </select>
            </form>
            <form>
                <input type="radio" id="t_standard" onclick="setStandard()" name="toggleStandard" checked>
                <label for="edit">Standard</label>
                <input type="radio" id="t_special" onclick="setSpecial()" name="toggleStandard">
                <label for="play">Special</label>
            </form>

            <h3>Attributes</h3>
            <p> Str: <span id="p_str">18</span><br>
                Dex: <span id="p_dex">9</span><br>
                Con: <span id="p_con">10</span><br>
                Int: <span id="p_int">8</span><br>
                Wis: <span id="p_wis">10</span><br>
                Cha: <span id="p_cha">1</span>
            </p>
            <h3>Size</h3>
            <p><span id="p_sz">L<span id="p_dim">2x2</span> Reach <span id="p_reach">2</span></p>

            <h3>Traits</h3>
            <p>Initiative bonus: <span id="p_init">0</span></p>
            <p>Attack bonus: <span id="p_atk">0</span></p>
            <p>Defense score: <span id="p_def_score">10</span> = 10 + <span id="p_def">0</span> + <span id="p_sz_mod">0</span> + <span id="p_dex_mod">0</span></p>
            <p>Fortitude Save bonus: <span id="p_fort">0</span></p>
            <p>Reflex Save bonus: <span id="p_ref">0</span></p>
            <p>Will Save bonus: <span id="p_wil">0</span></p>

            <h3>Health</h3>
            <div id="p_std_health">
                <p>Damage Save bonus: <span id="p_dam_save_mod">0</span></p>
            </div>
            <div id="p_spc_health">
                <p>Vitality: <span id="p_vitality">0</span></p>
                <p>Wounds: <span id="p_wounds">0</span></p>
            </div>

            <h3>Skills</h3>
            <div id="p_competence_container">
                <p>Competence bonus: <span id="p_comp">0</span></p>
            </div>
            <p>Any skills not explicitly listed here are handled with the Competence bonus above.</p>
            <div id="p_skills_container">
                <table>
                    <tr>
                        <td>Acrobatics</td>
                        <td id="p_skill_acrobatics_total">0</td>
                        <td id="p_skill_acrobatics_ranks">0</td>
                        <td id="p_skill_acrobatics_mods">0</td>
                        <td id="p_skill_acrobatics_misc">0</td>
                    </tr>
                    <tr>
                        <td>Athletics</td>
                        <td id="p_skill_athletics_total">0</td>
                        <td id="p_skill_athletics_ranks">0</td>
                        <td id="p_skill_athletics_mods">0</td>
                        <td id="p_skill_athletics_misc">0</td>
                    </tr>
                    <tr>
                        <td>Blend</td>
                        <td id="p_skill_blend_total">0</td>
                        <td id="p_skill_blend_ranks">0</td>
                        <td id="p_skill_blend_mods">0</td>
                        <td id="p_skill_blend_misc">0</td>
                    </tr>
                    <tr>
                        <td>Bluff</td>
                        <td id="p_skill_bluff_total">0</td>
                        <td id="p_skill_bluff_ranks">0</td>
                        <td id="p_skill_bluff_mods">0</td>
                        <td id="p_skill_bluff_misc">0</td>
                    </tr>
                    <tr>
                        <td>Crafting</td>
                        <td id="p_skill_crafting_total">0</td>
                        <td id="p_skill_crafting_ranks">0</td>
                        <td id="p_skill_crafting_mods">0</td>
                        <td id="p_skill_crafting_misc">0</td>
                    </tr>
                    <tr>
                        <td>Disguise</td>
                        <td id="p_skill_disguise_total">0</td>
                        <td id="p_skill_disguise_ranks">0</td>
                        <td id="p_skill_disguise_mods">0</td>
                        <td id="p_skill_disguise_misc">0</td>
                    </tr>
                    <tr>
                        <td>Haggle</td>
                        <td id="p_skill_haggle_total">0</td>
                        <td id="p_skill_haggle_ranks">0</td>
                        <td id="p_skill_haggle_mods">0</td>
                        <td id="p_skill_haggle_misc">0</td>
                    </tr>
                    <tr>
                        <td>Impress</td>
                        <td id="p_skill_impress_total">0</td>
                        <td id="p_skill_impress_ranks">0</td>
                        <td id="p_skill_impress_mods">0</td>
                        <td id="p_skill_impress_misc">0</td>
                    </tr>
                    <tr>
                        <td>Intimidate</td>
                        <td id="p_skill_intimidate_total">0</td>
                        <td id="p_skill_intimidate_ranks">0</td>
                        <td id="p_skill_intimidate_mods">0</td>
                        <td id="p_skill_intimidate_misc">0</td>
                    </tr>
                    <tr>
                        <td>Investigate</td>
                        <td id="p_skill_investigate_total">0</td>
                        <td id="p_skill_investigate_ranks">0</td>
                        <td id="p_skill_investigate_mods">0</td>
                        <td id="p_skill_investigate_misc">0</td>
                    </tr>
                    <tr>
                        <td>Medicine</td>
                        <td id="p_skill_medicine_total">0</td>
                        <td id="p_skill_medicine_ranks">0</td>
                        <td id="p_skill_medicine_mods">0</td>
                        <td id="p_skill_medicine_misc">0</td>
                    </tr>
                    <tr>
                        <td>Notice</td>
                        <td id="p_skill_notice_total">0</td>
                        <td id="p_skill_notice_ranks">0</td>
                        <td id="p_skill_notice_mods">0</td>
                        <td id="p_skill_notice_misc">0</td>
                    </tr>
                    <tr>
                        <td>Prestidigitation</td>
                        <td id="p_skill_prestidigitation_total">0</td>
                        <td id="p_skill_prestidigitation_ranks">0</td>
                        <td id="p_skill_prestidigitation_mods">0</td>
                        <td id="p_skill_prestidigitation_misc">0</td>
                    </tr>
                    <tr>
                        <td>Resolve</td>
                        <td id="p_skill_resolve_total">0</td>
                        <td id="p_skill_resolve_ranks">0</td>
                        <td id="p_skill_resolve_mods">0</td>
                        <td id="p_skill_resolve_misc">0</td>
                    </tr>
                    <tr>
                        <td>Ride</td>
                        <td id="p_skill_ride_total">0</td>
                        <td id="p_skill_ride_ranks">0</td>
                        <td id="p_skill_ride_mods">0</td>
                        <td id="p_skill_ride_misc">0</td>
                    </tr>
                    <tr>
                        <td>Search</td>
                        <td id="p_skill_search_total">0</td>
                        <td id="p_skill_search_ranks">0</td>
                        <td id="p_skill_search_mods">0</td>
                        <td id="p_skill_search_misc">0</td>
                    </tr>
                    <tr>
                        <td>Sense Motive</td>
                        <td id="p_skill_senseMotive_total">0</td>
                        <td id="p_skill_senseMotive_ranks">0</td>
                        <td id="p_skill_senseMotive_mods">0</td>
                        <td id="p_skill_senseMotive_misc">0</td>
                    </tr>
                    <tr>
                        <td>Sneak</td>
                        <td id="p_skill_sneak_total">0</td>
                        <td id="p_skill_sneak_ranks">0</td>
                        <td id="p_skill_sneak_mods">0</td>
                        <td id="p_skill_sneak_misc">0</td>
                    </tr>
                    <tr>
                        <td>Survival</td>
                        <td id="p_skill_survival_total">0</td>
                        <td id="p_skill_survival_ranks">0</td>
                        <td id="p_skill_survival_mods">0</td>
                        <td id="p_skill_survival_misc">0</td>
                    </tr>
                    <tr>
                        <td>Tactics</td>
                        <td id="p_skill_tactics_total">0</td>
                        <td id="p_skill_tactics_ranks">0</td>
                        <td id="p_skill_tactics_mods">0</td>
                        <td id="p_skill_tactics_misc">0</td>
                    </tr>
                </table>
            </div>

        </div>        
        
        </body>
</html>